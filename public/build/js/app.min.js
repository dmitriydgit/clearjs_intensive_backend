var galleryController=function(){"use strict";return class{constructor(t,e,s,i){this.model=t,this.view=e,this.observer=s,this.utils=i,this.init()}init(){console.log("gallery inited"),this.model.getData().then(t=>{this.view.init(t),console.log("gallery-data: ",t)})}}}(),galleryModel=function(){"use strict";return class{constructor(){this.getUrl="http://localhost:3000/gallery"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}}}(),galleryView=function(){"use strict";return class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result")},this.readyDataForGallery=[],this.visibleData=[]}init(t){this.refreshGallery(t)}refreshGallery(t){this.prepareData(t),this.biuldGallery(this.visibleData)}prepareData(t){this.readyDataForGallery=t.map((t,e)=>({url:this.urlFomat(t.url),name:this.nameFormat(t.name),itemID:t.id})),this.visibleData=[],this.visibleData.push.apply(this.visibleData,this.readyDataForGallery)}biuldGallery(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createGalleryItem(t[e])}createGalleryItem(t){return`<div class="col-md-4 gallery-card" id = ${t.itemID}>\n\t\t\t\t\t<div class="card mb-4 box-shadow gallery-item" >\n\t\t\t\t\t\t\t<img src="${t.url}" alt="${t.name}" class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">\n\t\t\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${t.name}</div>\n\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-outline-secondary">View</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-outline-secondary edit">Edit</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div  name = "delete-img" class = "btn btn-danger"  title = "Удалить данное изображение"> Удалить </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}nameFormat(t){return t?t[0].toUpperCase()+t.substring(1).toLowerCase():"Lohn Doh"}urlFomat(t){return-1===t.indexOf("https://")?`https://${t}`:t}}}(),observer=function(){"use strict";return class{constructor(){this.events={}}subscribeEvent(t,e){this.events[t]=e}callEvent(t,e){this.events[t]&&this.events[t](e)}}}(),loginController=function(){"use strict";return class{constructor(t,e,s){this.loginModel=t,this.loginView=e,this.utils=s,this.init()}init(){this.fillStartPageUserData(),this.bindEvents()}fillStartPageUserData(){1==this.loginModel.getCheckboxStatus()?this.loginModel.getData().then(t=>{this.loginView.DOMElements.checkBoxRemememberMe.checked=!0,this.loginView.DOMElements.email.value=t.login,this.loginView.DOMElements.password.value=t.password}):(this.loginView.DOMElements.checkBoxRemememberMe.checked=!1,this.loginView.DOMElements.email.value="",this.loginView.DOMElements.password.value="")}bindEvents(){this.loginView.DOMElements.submitBtn.addEventListener("click",this.initValidation.bind(this)),this.loginView.DOMElements.exitBtn.addEventListener("click",this.initLogOut.bind(this))}initValidation(t){if(t.preventDefault(),"submitBtn"==t.target.id){this.loginView.hideAlertMsgs();let t=this.loginView.getLogAndPass(),e=this.loginModel.checkFields(t.login,t.password);1==e?this.loginModel.logAndPassValidation(t).then(t=>{t.status?(this.getAndSetCheckboxStatus(),this.utils.navigateTo("mainPage"),this.loginView.showButtons(),this.loginView.hideEnterBtn()):this.loginView.showErrorMsg("1")}):this.loginView.showErrorMsg(e)}}initLogOut(){this.loginModel.logOut(),this.loginView.hideButtons(),this.loginView.showEnterBtn(),this.utils.navigateTo(""),this.getAndSetCheckboxStatus()}getAndSetCheckboxStatus(){1==this.loginView.DOMElements.checkBoxRemememberMe.checked?this.loginModel.setCheckboxStatus("true"):this.loginModel.setCheckboxStatus("false")}}}(),loginModel=function(){"use strict";return class{constructor(){this.urlAdminUser="http://localhost:3000/adminUser",this.urlLogin="http://localhost:3000/login"}getData(){return fetch(this.urlAdminUser).then(t=>t.json()).then(t=>(console.log("Initial data is loaded"),console.log(t),t))}getCheckboxStatus(){return"true"==localStorage.getItem("remember")}setCheckboxStatus(t){localStorage.setItem("remember",t)}checkSession(){return!!localStorage.getItem("credentials")}setUserInfo(t){localStorage.setItem("credentials",JSON.stringify(t))}logOut(){localStorage.removeItem("credentials")}logAndPassValidation(t){let e=this.urlLogin,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json()).then(e=>(e.status&&this.setUserInfo(t),e))}checkFields(t,e){return t?e?this.checkEmail(t)?!!this.checkPassword(e)||"5":"4":"3":"2"}checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}checkPassword(t){return t.length>=8}saveData(t){console.log("Saving item... "+t.name);let e={name:"Saved iPhone",price:12458,popular:!0,date:1467440203};return new Promise(function(t,s){t(e)})}updateData(t){return console.log("Updating item... "+t),Promise.resolve({name:"Saved Samsung",price:12458,popular:!0,date:1467440203})}setLocalStorGalleryInitStatus(t){localStorage.isGalleryInited=t}changeLocalStorLoggedInStatus(t){localStorage.isUserLoggedIn=t}getLocalStorageGalleryStatus(){return localStorage.isGalleryInited}getIsUserLoggedIn(){return localStorage.isUserLoggedIn}checkUser(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/login",e).then(t=>t.json())}}}(),loginView=function(){"use strict";return class{constructor(){this.DOMElements={submitBtn:document.querySelector("#submitBtn"),exitBtn:document.querySelector("#exitBtn"),email:document.querySelector("#inputEmail"),password:document.querySelector("#inputPassword"),checkBoxRemememberMe:document.querySelector("#inputRemember"),loginBtn:document.querySelector("#loginBtn"),mainPageBtn:document.querySelector("#mainPageBtn"),profileBtn:document.querySelector("#profileBtn"),galleryBtn:document.querySelector("#galleryBtn"),contactsBtn:document.querySelector("#contactsBtn"),showUserDataBtn:document.querySelector("#showUserDataBtn"),showGalleryBtn:document.querySelector("#showGalleryBtn"),alertMsg:document.querySelector("#alert-message"),notFilledEmailMsg:document.querySelector("#notFilledEmailMsg"),notFilledPassMsg:document.querySelector("#notFilledPassMsg"),wrongEmailMsg:document.querySelector("#wrongEmailMsg"),wrongPassMsg:document.querySelector("#wrongPassMsg")}}getLogAndPass(){return{login:this.DOMElements.email.value,password:this.DOMElements.password.value}}showErrorMsg(t){switch(t){case"1":this.showHide({show:[this.DOMElements.alertMsg]});break;case"2":this.showHide({show:[this.DOMElements.notFilledEmailMsg]});break;case"3":this.showHide({show:[this.DOMElements.notFilledPassMsg]});break;case"4":this.showHide({show:[this.DOMElements.wrongEmailMsg]});break;case"5":this.showHide({show:[this.DOMElements.wrongPassMsg]})}}hideAlertMsgs(){this.showHide({hide:[this.DOMElements.alertMsg,this.DOMElements.notFilledEmailMsg,this.DOMElements.notFilledPassMsg,this.DOMElements.wrongEmailMsg,this.DOMElements.wrongPassMsg]})}showAlertMsg(){this.showHide({show:[this.DOMElements.alertMsg]})}showNotFilledEmailMsg(){this.showHide({show:[this.DOMElements.notFilledEmailMsg]})}showNotFilledPasswordMsg(){this.showHide({show:[this.DOMElements.notFilledPassMsg]})}showBadLoginMsg(){this.showHide({show:[this.DOMElements.wrongEmailMsg]})}showBadPasswordMsg(){this.showHide({show:[this.DOMElements.wrongPassMsg]})}showButtons(){this.showEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideButtons(){this.hideEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideEnterBtn(){this.hideEls([this.DOMElements.loginBtn])}showEnterBtn(){this.showEls([this.DOMElements.loginBtn])}showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}showEls(t){t.forEach(t=>{t.classList.remove("hide")})}hideEls(t){t.forEach(t=>{t.classList.add("hide")})}}}(),mainController=function(){"use strict";return class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("main inited"),this.model.getData().then(t=>{this.view.init(t),console.log("main-data: ",t)})}}}(),mainModel=function(){"use strict";return class{constructor(){this.getUrl="http://localhost:3000/posts"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}}}(),mainView=function(){"use strict";return class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result-main")},this.readyData=[]}init(t){this.refreshPosts(t)}refreshPosts(t){this.readyData=t,this.biuldView(this.readyData)}biuldView(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createPost(t[e])}createPost(t){let e="";return t.images.forEach(t=>{e+=`<img style="display: inline-block;  margin: 10px; vertical-align: bottom;" data-width="640" data-height="640" data-action="zoom" src="${t}">\n\t\t\t\t`}),`<li class="rv b agz">\n\t\t\t<img class="bos vb yb aff"  src= ${t.url}>\n\t\t\t<div class="rw">\n\t\t\t\t<div class="bpd">\n\t\t\t\t\t<div class="bpb">\n\t\t\t\t\t\t<small class="acx axc">${t.date}</small>\n\t\t\t\t\t\t<h6>${t.name}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>${t.text}</p>\n\t\t\t\t\t<div class="boy" data-grid="images">${e}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>`}}}(),profileController=function(){"use strict";return class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("profile inited"),this.model.getProfileData().then(t=>{this.view.init(t)})}}}(),profileModel=function(){"use strict";return class{constructor(){this.url="http://localhost:3000/profile"}getProfileData(){return fetch(this.url).then(t=>t.json()).then(t=>(console.log("ProfileData is loaded"),t))}}}(),profileView=function(){"use strict";return class{constructor(){this.DOMElements={firstName:document.querySelector("#firstName"),lastName:document.querySelector("#lastName"),userName:document.querySelector("#username"),email:document.querySelector("#emailProfile"),address:document.querySelector("#addressProfile"),address2:document.querySelector("#address2Profile"),country:document.querySelector("#countryProfile"),state:document.querySelector("#stateProfile"),zip:document.querySelector("#zip")},this.readyData}init(t){this.readyData=t[0],this.buildView(this.readyData)}buildView(t){console.log(this.DOMElements),console.log(t),this.DOMElements.firstName.value=t.name,this.DOMElements.lastName.value=t.lastName,this.DOMElements.userName.value=t.userName,this.DOMElements.email.value=t.email,this.DOMElements.address.value=t.adress,this.DOMElements.address2.value=t.adress2,this.DOMElements.country.value=t.country,this.DOMElements.state.value=t.state,this.DOMElements.zip.value=t.zip}}}();!function(){"use strict";class t{constructor(){this.sortingConfig={A:t=>(t.sort((t,e)=>t.email>e.email?1:-1),t),Z:t=>(t.sort((t,e)=>t.email<e.email?1:-1),t),Admin:t=>t.filter(t=>"Admin"==t.role),User:t=>t.filter(t=>"User"==t.role),Find:t=>{let e=new RegExp(event.target.value,"i");return t.filter(t=>e.test(t.name))}}}static initTemplate(t,e){var s=document.querySelector(`#${e}`).content.cloneNode(!0);t.innerHTML="",t.appendChild(s)}static showView(t){t.forEach(t=>{t.classList.remove("hide")})}static hideView(t){t.forEach(t=>{t.classList.add("hide")})}static navigateTo(t){window.location.hash="#"+t}static isLoggedIn(){return!0}static activateBtn(t){t.forEach(t=>{t.parentElement.classList.add("active")})}static disactivateBtn(t){t.forEach(t=>{t.parentElement.classList.remove("active")})}}document.querySelector("#login-view"),document.querySelector("#main-view"),document.querySelector("#profile-view"),document.querySelector("#gallery-view"),document.querySelector("#mainPageBtn"),document.querySelector("#profileBtn"),document.querySelector("#galleryBtn");const e=document.querySelector("#wrapper");let s={"":()=>{t.initTemplate(e,"login-view"),new class{constructor(t,e,s){this.loginModel=t,this.loginView=e,this.utils=s,this.init()}init(){this.fillStartPageUserData(),this.bindEvents()}fillStartPageUserData(){1==this.loginModel.getCheckboxStatus()?this.loginModel.getData().then(t=>{this.loginView.DOMElements.checkBoxRemememberMe.checked=!0,this.loginView.DOMElements.email.value=t.login,this.loginView.DOMElements.password.value=t.password}):(this.loginView.DOMElements.checkBoxRemememberMe.checked=!1,this.loginView.DOMElements.email.value="",this.loginView.DOMElements.password.value="")}bindEvents(){this.loginView.DOMElements.submitBtn.addEventListener("click",this.initValidation.bind(this)),this.loginView.DOMElements.exitBtn.addEventListener("click",this.initLogOut.bind(this))}initValidation(t){if(t.preventDefault(),"submitBtn"==t.target.id){this.loginView.hideAlertMsgs();let t=this.loginView.getLogAndPass(),e=this.loginModel.checkFields(t.login,t.password);1==e?this.loginModel.logAndPassValidation(t).then(t=>{t.status?(this.getAndSetCheckboxStatus(),this.utils.navigateTo("mainPage"),this.loginView.showButtons(),this.loginView.hideEnterBtn()):this.loginView.showErrorMsg("1")}):this.loginView.showErrorMsg(e)}}initLogOut(){this.loginModel.logOut(),this.loginView.hideButtons(),this.loginView.showEnterBtn(),this.utils.navigateTo(""),this.getAndSetCheckboxStatus()}getAndSetCheckboxStatus(){1==this.loginView.DOMElements.checkBoxRemememberMe.checked?this.loginModel.setCheckboxStatus("true"):this.loginModel.setCheckboxStatus("false")}}(new class{constructor(){this.urlAdminUser="http://localhost:3000/adminUser",this.urlLogin="http://localhost:3000/login"}getData(){return fetch(this.urlAdminUser).then(t=>t.json()).then(t=>(console.log("Initial data is loaded"),console.log(t),t))}getCheckboxStatus(){return"true"==localStorage.getItem("remember")}setCheckboxStatus(t){localStorage.setItem("remember",t)}checkSession(){return!!localStorage.getItem("credentials")}setUserInfo(t){localStorage.setItem("credentials",JSON.stringify(t))}logOut(){localStorage.removeItem("credentials")}logAndPassValidation(t){let e=this.urlLogin,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json()).then(e=>(e.status&&this.setUserInfo(t),e))}checkFields(t,e){return t?e?this.checkEmail(t)?!!this.checkPassword(e)||"5":"4":"3":"2"}checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}checkPassword(t){return t.length>=8}saveData(t){console.log("Saving item... "+t.name);let e={name:"Saved iPhone",price:12458,popular:!0,date:1467440203};return new Promise(function(t,s){t(e)})}updateData(t){return console.log("Updating item... "+t),Promise.resolve({name:"Saved Samsung",price:12458,popular:!0,date:1467440203})}setLocalStorGalleryInitStatus(t){localStorage.isGalleryInited=t}changeLocalStorLoggedInStatus(t){localStorage.isUserLoggedIn=t}getLocalStorageGalleryStatus(){return localStorage.isGalleryInited}getIsUserLoggedIn(){return localStorage.isUserLoggedIn}checkUser(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/login",e).then(t=>t.json())}},new class{constructor(){this.DOMElements={submitBtn:document.querySelector("#submitBtn"),exitBtn:document.querySelector("#exitBtn"),email:document.querySelector("#inputEmail"),password:document.querySelector("#inputPassword"),checkBoxRemememberMe:document.querySelector("#inputRemember"),loginBtn:document.querySelector("#loginBtn"),mainPageBtn:document.querySelector("#mainPageBtn"),profileBtn:document.querySelector("#profileBtn"),galleryBtn:document.querySelector("#galleryBtn"),contactsBtn:document.querySelector("#contactsBtn"),showUserDataBtn:document.querySelector("#showUserDataBtn"),showGalleryBtn:document.querySelector("#showGalleryBtn"),alertMsg:document.querySelector("#alert-message"),notFilledEmailMsg:document.querySelector("#notFilledEmailMsg"),notFilledPassMsg:document.querySelector("#notFilledPassMsg"),wrongEmailMsg:document.querySelector("#wrongEmailMsg"),wrongPassMsg:document.querySelector("#wrongPassMsg")}}getLogAndPass(){return{login:this.DOMElements.email.value,password:this.DOMElements.password.value}}showErrorMsg(t){switch(t){case"1":this.showHide({show:[this.DOMElements.alertMsg]});break;case"2":this.showHide({show:[this.DOMElements.notFilledEmailMsg]});break;case"3":this.showHide({show:[this.DOMElements.notFilledPassMsg]});break;case"4":this.showHide({show:[this.DOMElements.wrongEmailMsg]});break;case"5":this.showHide({show:[this.DOMElements.wrongPassMsg]})}}hideAlertMsgs(){this.showHide({hide:[this.DOMElements.alertMsg,this.DOMElements.notFilledEmailMsg,this.DOMElements.notFilledPassMsg,this.DOMElements.wrongEmailMsg,this.DOMElements.wrongPassMsg]})}showAlertMsg(){this.showHide({show:[this.DOMElements.alertMsg]})}showNotFilledEmailMsg(){this.showHide({show:[this.DOMElements.notFilledEmailMsg]})}showNotFilledPasswordMsg(){this.showHide({show:[this.DOMElements.notFilledPassMsg]})}showBadLoginMsg(){this.showHide({show:[this.DOMElements.wrongEmailMsg]})}showBadPasswordMsg(){this.showHide({show:[this.DOMElements.wrongPassMsg]})}showButtons(){this.showEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideButtons(){this.hideEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideEnterBtn(){this.hideEls([this.DOMElements.loginBtn])}showEnterBtn(){this.showEls([this.DOMElements.loginBtn])}showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}showEls(t){t.forEach(t=>{t.classList.remove("hide")})}hideEls(t){t.forEach(t=>{t.classList.add("hide")})}},t)},mainPage:()=>{t.initTemplate(e,"mainPage-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("main inited"),this.model.getData().then(t=>{this.view.init(t),console.log("main-data: ",t)})}}(new class{constructor(){this.getUrl="http://localhost:3000/posts"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}},new class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result-main")},this.readyData=[]}init(t){this.refreshPosts(t)}refreshPosts(t){this.readyData=t,this.biuldView(this.readyData)}biuldView(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createPost(t[e])}createPost(t){let e="";return t.images.forEach(t=>{e+=`<img style="display: inline-block;  margin: 10px; vertical-align: bottom;" data-width="640" data-height="640" data-action="zoom" src="${t}">\n\t\t\t\t`}),`<li class="rv b agz">\n\t\t\t<img class="bos vb yb aff"  src= ${t.url}>\n\t\t\t<div class="rw">\n\t\t\t\t<div class="bpd">\n\t\t\t\t\t<div class="bpb">\n\t\t\t\t\t\t<small class="acx axc">${t.date}</small>\n\t\t\t\t\t\t<h6>${t.name}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>${t.text}</p>\n\t\t\t\t\t<div class="boy" data-grid="images">${e}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>`}},t)},profile:()=>{t.initTemplate(e,"profile-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("profile inited"),this.model.getProfileData().then(t=>{this.view.init(t)})}}(new class{constructor(){this.url="http://localhost:3000/profile"}getProfileData(){return fetch(this.url).then(t=>t.json()).then(t=>(console.log("ProfileData is loaded"),t))}},new class{constructor(){this.DOMElements={firstName:document.querySelector("#firstName"),lastName:document.querySelector("#lastName"),userName:document.querySelector("#username"),email:document.querySelector("#emailProfile"),address:document.querySelector("#addressProfile"),address2:document.querySelector("#address2Profile"),country:document.querySelector("#countryProfile"),state:document.querySelector("#stateProfile"),zip:document.querySelector("#zip")},this.readyData}init(t){this.readyData=t[0],this.buildView(this.readyData)}buildView(t){console.log(this.DOMElements),console.log(t),this.DOMElements.firstName.value=t.name,this.DOMElements.lastName.value=t.lastName,this.DOMElements.userName.value=t.userName,this.DOMElements.email.value=t.email,this.DOMElements.address.value=t.adress,this.DOMElements.address2.value=t.adress2,this.DOMElements.country.value=t.country,this.DOMElements.state.value=t.state,this.DOMElements.zip.value=t.zip}},new t)},gallery:()=>{t.initTemplate(e,"gallery-view");let s=new class{constructor(){this.events={}}subscribeEvent(t,e){this.events[t]=e}callEvent(t,e){this.events[t]&&this.events[t](e)}};new class{constructor(t,e,s,i){this.model=t,this.view=e,this.observer=s,this.utils=i,this.init()}init(){console.log("gallery inited"),this.model.getData().then(t=>{this.view.init(t),console.log("gallery-data: ",t)})}}(new class{constructor(){this.getUrl="http://localhost:3000/gallery"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}},new class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result")},this.readyDataForGallery=[],this.visibleData=[]}init(t){this.refreshGallery(t)}refreshGallery(t){this.prepareData(t),this.biuldGallery(this.visibleData)}prepareData(t){this.readyDataForGallery=t.map((t,e)=>({url:this.urlFomat(t.url),name:this.nameFormat(t.name),itemID:t.id})),this.visibleData=[],this.visibleData.push.apply(this.visibleData,this.readyDataForGallery)}biuldGallery(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createGalleryItem(t[e])}createGalleryItem(t){return`<div class="col-md-4 gallery-card" id = ${t.itemID}>\n\t\t\t\t\t<div class="card mb-4 box-shadow gallery-item" >\n\t\t\t\t\t\t\t<img src="${t.url}" alt="${t.name}" class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">\n\t\t\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${t.name}</div>\n\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-outline-secondary">View</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-outline-secondary edit">Edit</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div  name = "delete-img" class = "btn btn-danger"  title = "Удалить данное изображение"> Удалить </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}nameFormat(t){return t?t[0].toUpperCase()+t.substring(1).toLowerCase():"Lohn Doh"}urlFomat(t){return-1===t.indexOf("https://")?`https://${t}`:t}},s,new t)},contacts:()=>{t.initTemplate(e,"contact-view"),console.log("Contacts route is loaded")}};function i(){let e=document.location.hash.replace(/^#/,"");e&&!t.isLoggedIn()?t.navigateTo(""):function(t){let e=s[t];e&&e()}(e)}window.addEventListener("load",i),window.addEventListener("hashchange",i)}();var router=function(t){"use strict";class e{constructor(){this.sortingConfig={A:t=>(t.sort((t,e)=>t.email>e.email?1:-1),t),Z:t=>(t.sort((t,e)=>t.email<e.email?1:-1),t),Admin:t=>t.filter(t=>"Admin"==t.role),User:t=>t.filter(t=>"User"==t.role),Find:t=>{let e=new RegExp(event.target.value,"i");return t.filter(t=>e.test(t.name))}}}static initTemplate(t,e){var s=document.querySelector(`#${e}`).content.cloneNode(!0);t.innerHTML="",t.appendChild(s)}static showView(t){t.forEach(t=>{t.classList.remove("hide")})}static hideView(t){t.forEach(t=>{t.classList.add("hide")})}static navigateTo(t){window.location.hash="#"+t}static isLoggedIn(){return!0}static activateBtn(t){t.forEach(t=>{t.parentElement.classList.add("active")})}static disactivateBtn(t){t.forEach(t=>{t.parentElement.classList.remove("active")})}}document.querySelector("#login-view"),document.querySelector("#main-view"),document.querySelector("#profile-view"),document.querySelector("#gallery-view"),document.querySelector("#mainPageBtn"),document.querySelector("#profileBtn"),document.querySelector("#galleryBtn");const s=document.querySelector("#wrapper");let i={"":()=>{e.initTemplate(s,"login-view"),new class{constructor(t,e,s){this.loginModel=t,this.loginView=e,this.utils=s,this.init()}init(){this.fillStartPageUserData(),this.bindEvents()}fillStartPageUserData(){1==this.loginModel.getCheckboxStatus()?this.loginModel.getData().then(t=>{this.loginView.DOMElements.checkBoxRemememberMe.checked=!0,this.loginView.DOMElements.email.value=t.login,this.loginView.DOMElements.password.value=t.password}):(this.loginView.DOMElements.checkBoxRemememberMe.checked=!1,this.loginView.DOMElements.email.value="",this.loginView.DOMElements.password.value="")}bindEvents(){this.loginView.DOMElements.submitBtn.addEventListener("click",this.initValidation.bind(this)),this.loginView.DOMElements.exitBtn.addEventListener("click",this.initLogOut.bind(this))}initValidation(t){if(t.preventDefault(),"submitBtn"==t.target.id){this.loginView.hideAlertMsgs();let t=this.loginView.getLogAndPass(),e=this.loginModel.checkFields(t.login,t.password);1==e?this.loginModel.logAndPassValidation(t).then(t=>{t.status?(this.getAndSetCheckboxStatus(),this.utils.navigateTo("mainPage"),this.loginView.showButtons(),this.loginView.hideEnterBtn()):this.loginView.showErrorMsg("1")}):this.loginView.showErrorMsg(e)}}initLogOut(){this.loginModel.logOut(),this.loginView.hideButtons(),this.loginView.showEnterBtn(),this.utils.navigateTo(""),this.getAndSetCheckboxStatus()}getAndSetCheckboxStatus(){1==this.loginView.DOMElements.checkBoxRemememberMe.checked?this.loginModel.setCheckboxStatus("true"):this.loginModel.setCheckboxStatus("false")}}(new class{constructor(){this.urlAdminUser="http://localhost:3000/adminUser",this.urlLogin="http://localhost:3000/login"}getData(){return fetch(this.urlAdminUser).then(t=>t.json()).then(t=>(console.log("Initial data is loaded"),console.log(t),t))}getCheckboxStatus(){return"true"==localStorage.getItem("remember")}setCheckboxStatus(t){localStorage.setItem("remember",t)}checkSession(){return!!localStorage.getItem("credentials")}setUserInfo(t){localStorage.setItem("credentials",JSON.stringify(t))}logOut(){localStorage.removeItem("credentials")}logAndPassValidation(t){let e=this.urlLogin,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json()).then(e=>(e.status&&this.setUserInfo(t),e))}checkFields(t,e){return t?e?this.checkEmail(t)?!!this.checkPassword(e)||"5":"4":"3":"2"}checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}checkPassword(t){return t.length>=8}saveData(t){console.log("Saving item... "+t.name);let e={name:"Saved iPhone",price:12458,popular:!0,date:1467440203};return new Promise(function(t,s){t(e)})}updateData(t){return console.log("Updating item... "+t),Promise.resolve({name:"Saved Samsung",price:12458,popular:!0,date:1467440203})}setLocalStorGalleryInitStatus(t){localStorage.isGalleryInited=t}changeLocalStorLoggedInStatus(t){localStorage.isUserLoggedIn=t}getLocalStorageGalleryStatus(){return localStorage.isGalleryInited}getIsUserLoggedIn(){return localStorage.isUserLoggedIn}checkUser(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/login",e).then(t=>t.json())}},new class{constructor(){this.DOMElements={submitBtn:document.querySelector("#submitBtn"),exitBtn:document.querySelector("#exitBtn"),email:document.querySelector("#inputEmail"),password:document.querySelector("#inputPassword"),checkBoxRemememberMe:document.querySelector("#inputRemember"),loginBtn:document.querySelector("#loginBtn"),mainPageBtn:document.querySelector("#mainPageBtn"),profileBtn:document.querySelector("#profileBtn"),galleryBtn:document.querySelector("#galleryBtn"),contactsBtn:document.querySelector("#contactsBtn"),showUserDataBtn:document.querySelector("#showUserDataBtn"),showGalleryBtn:document.querySelector("#showGalleryBtn"),alertMsg:document.querySelector("#alert-message"),notFilledEmailMsg:document.querySelector("#notFilledEmailMsg"),notFilledPassMsg:document.querySelector("#notFilledPassMsg"),wrongEmailMsg:document.querySelector("#wrongEmailMsg"),wrongPassMsg:document.querySelector("#wrongPassMsg")}}getLogAndPass(){return{login:this.DOMElements.email.value,password:this.DOMElements.password.value}}showErrorMsg(t){switch(t){case"1":this.showHide({show:[this.DOMElements.alertMsg]});break;case"2":this.showHide({show:[this.DOMElements.notFilledEmailMsg]});break;case"3":this.showHide({show:[this.DOMElements.notFilledPassMsg]});break;case"4":this.showHide({show:[this.DOMElements.wrongEmailMsg]});break;case"5":this.showHide({show:[this.DOMElements.wrongPassMsg]})}}hideAlertMsgs(){this.showHide({hide:[this.DOMElements.alertMsg,this.DOMElements.notFilledEmailMsg,this.DOMElements.notFilledPassMsg,this.DOMElements.wrongEmailMsg,this.DOMElements.wrongPassMsg]})}showAlertMsg(){this.showHide({show:[this.DOMElements.alertMsg]})}showNotFilledEmailMsg(){this.showHide({show:[this.DOMElements.notFilledEmailMsg]})}showNotFilledPasswordMsg(){this.showHide({show:[this.DOMElements.notFilledPassMsg]})}showBadLoginMsg(){this.showHide({show:[this.DOMElements.wrongEmailMsg]})}showBadPasswordMsg(){this.showHide({show:[this.DOMElements.wrongPassMsg]})}showButtons(){this.showEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideButtons(){this.hideEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideEnterBtn(){this.hideEls([this.DOMElements.loginBtn])}showEnterBtn(){this.showEls([this.DOMElements.loginBtn])}showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}showEls(t){t.forEach(t=>{t.classList.remove("hide")})}hideEls(t){t.forEach(t=>{t.classList.add("hide")})}},e)},mainPage:()=>{e.initTemplate(s,"mainPage-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("main inited"),this.model.getData().then(t=>{this.view.init(t),console.log("main-data: ",t)})}}(new class{constructor(){this.getUrl="http://localhost:3000/posts"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}},new class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result-main")},this.readyData=[]}init(t){this.refreshPosts(t)}refreshPosts(t){this.readyData=t,this.biuldView(this.readyData)}biuldView(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createPost(t[e])}createPost(t){let e="";return t.images.forEach(t=>{e+=`<img style="display: inline-block;  margin: 10px; vertical-align: bottom;" data-width="640" data-height="640" data-action="zoom" src="${t}">\n\t\t\t\t`}),`<li class="rv b agz">\n\t\t\t<img class="bos vb yb aff"  src= ${t.url}>\n\t\t\t<div class="rw">\n\t\t\t\t<div class="bpd">\n\t\t\t\t\t<div class="bpb">\n\t\t\t\t\t\t<small class="acx axc">${t.date}</small>\n\t\t\t\t\t\t<h6>${t.name}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>${t.text}</p>\n\t\t\t\t\t<div class="boy" data-grid="images">${e}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>`}},e)},profile:()=>{e.initTemplate(s,"profile-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("profile inited"),this.model.getProfileData().then(t=>{this.view.init(t)})}}(new class{constructor(){this.url="http://localhost:3000/profile"}getProfileData(){return fetch(this.url).then(t=>t.json()).then(t=>(console.log("ProfileData is loaded"),t))}},new class{constructor(){this.DOMElements={firstName:document.querySelector("#firstName"),lastName:document.querySelector("#lastName"),userName:document.querySelector("#username"),email:document.querySelector("#emailProfile"),address:document.querySelector("#addressProfile"),address2:document.querySelector("#address2Profile"),country:document.querySelector("#countryProfile"),state:document.querySelector("#stateProfile"),zip:document.querySelector("#zip")},this.readyData}init(t){this.readyData=t[0],this.buildView(this.readyData)}buildView(t){console.log(this.DOMElements),console.log(t),this.DOMElements.firstName.value=t.name,this.DOMElements.lastName.value=t.lastName,this.DOMElements.userName.value=t.userName,this.DOMElements.email.value=t.email,this.DOMElements.address.value=t.adress,this.DOMElements.address2.value=t.adress2,this.DOMElements.country.value=t.country,this.DOMElements.state.value=t.state,this.DOMElements.zip.value=t.zip}},new e)},gallery:()=>{e.initTemplate(s,"gallery-view");let t=new class{constructor(){this.events={}}subscribeEvent(t,e){this.events[t]=e}callEvent(t,e){this.events[t]&&this.events[t](e)}};new class{constructor(t,e,s,i){this.model=t,this.view=e,this.observer=s,this.utils=i,this.init()}init(){console.log("gallery inited"),this.model.getData().then(t=>{this.view.init(t),console.log("gallery-data: ",t)})}}(new class{constructor(){this.getUrl="http://localhost:3000/gallery"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}},new class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result")},this.readyDataForGallery=[],this.visibleData=[]}init(t){this.refreshGallery(t)}refreshGallery(t){this.prepareData(t),this.biuldGallery(this.visibleData)}prepareData(t){this.readyDataForGallery=t.map((t,e)=>({url:this.urlFomat(t.url),name:this.nameFormat(t.name),itemID:t.id})),this.visibleData=[],this.visibleData.push.apply(this.visibleData,this.readyDataForGallery)}biuldGallery(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createGalleryItem(t[e])}createGalleryItem(t){return`<div class="col-md-4 gallery-card" id = ${t.itemID}>\n\t\t\t\t\t<div class="card mb-4 box-shadow gallery-item" >\n\t\t\t\t\t\t\t<img src="${t.url}" alt="${t.name}" class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">\n\t\t\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${t.name}</div>\n\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-outline-secondary">View</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-outline-secondary edit">Edit</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div  name = "delete-img" class = "btn btn-danger"  title = "Удалить данное изображение"> Удалить </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}nameFormat(t){return t?t[0].toUpperCase()+t.substring(1).toLowerCase():"Lohn Doh"}urlFomat(t){return-1===t.indexOf("https://")?`https://${t}`:t}},t,new e)},contacts:()=>{e.initTemplate(s,"contact-view"),console.log("Contacts route is loaded")}};return t.updateRoute=function(){let t=document.location.hash.replace(/^#/,"");t&&!e.isLoggedIn()?e.navigateTo(""):function(t){let e=i[t];e&&e()}(t)},t}({}),utils=function(){"use strict";return class{constructor(){this.sortingConfig={A:t=>(t.sort((t,e)=>t.email>e.email?1:-1),t),Z:t=>(t.sort((t,e)=>t.email<e.email?1:-1),t),Admin:t=>t.filter(t=>"Admin"==t.role),User:t=>t.filter(t=>"User"==t.role),Find:t=>{let e=new RegExp(event.target.value,"i");return t.filter(t=>e.test(t.name))}}}static initTemplate(t,e){var s=document.querySelector(`#${e}`).content.cloneNode(!0);t.innerHTML="",t.appendChild(s)}static showView(t){t.forEach(t=>{t.classList.remove("hide")})}static hideView(t){t.forEach(t=>{t.classList.add("hide")})}static navigateTo(t){window.location.hash="#"+t}static isLoggedIn(){return!0}static activateBtn(t){t.forEach(t=>{t.parentElement.classList.add("active")})}static disactivateBtn(t){t.forEach(t=>{t.parentElement.classList.remove("active")})}}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbGxlcnkuY29udHJvbGxlci5qcyIsImdhbGxlcnkubW9kZWwuanMiLCJnYWxsZXJ5LnZpZXcuanMiLCJvYnNlcnZlci5qcyIsImxvZ2luLmNvbnRyb2xsZXIuanMiLCJsb2dpbi5tb2RlbC5qcyIsImxvZ2luLnZpZXcuanMiLCJtYWluLmNvbnRyb2xsZXIuanMiLCJtYWluLm1vZGVsLmpzIiwibWFpbi52aWV3LmpzIiwicHJvZmlsZS5jb250cm9sbGVyLmpzIiwicHJvZmlsZS5tb2RlbC5qcyIsInByb2ZpbGUudmlldy5qcyIsInV0aWxzLmpzIiwicm91dGVyLmpzIiwibG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luLm1vZGVsLmpzIiwibG9naW4vbG9naW4udmlldy5qcyIsIm1haW5QYWdlL21haW4uY29udHJvbGxlci5qcyIsIm1haW5QYWdlL21haW4ubW9kZWwuanMiLCJtYWluUGFnZS9tYWluLnZpZXcuanMiLCJwcm9maWxlL3Byb2ZpbGUuY29udHJvbGxlci5qcyIsInByb2ZpbGUvcHJvZmlsZS5tb2RlbC5qcyIsInByb2ZpbGUvcHJvZmlsZS52aWV3LmpzIiwiZ2FsbGVyeS9vYnNlcnZlci5qcyIsImdhbGxlcnkvZ2FsbGVyeS5jb250cm9sbGVyLmpzIiwiZ2FsbGVyeS9nYWxsZXJ5Lm1vZGVsLmpzIiwiZ2FsbGVyeS9nYWxsZXJ5LnZpZXcuanMiLCJhcHAuanMiXSwibmFtZXMiOlsibW9kZWwiLCJ2aWV3Iiwib2JzZXJ2ZXIiLCJ1dGlscyIsImluaXQiLCJsb2ciLCJnZXREYXRhIiwidGhlbiIsImRhdGEiLCJnZXRVcmwiLCJmZXRjaCIsInRoaXMiLCJyZXNwb25jZSIsImpzb24iLCJ1c2Vyc0xpc3REYXRhIiwiRE9NRWxlbWVudHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZWFkeURhdGFGb3JHYWxsZXJ5IiwidmlzaWJsZURhdGEiLCJyZWZyZXNoR2FsbGVyeSIsInByZXBhcmVEYXRhIiwiYml1bGRHYWxsZXJ5IiwibWFwIiwiaXRlbSIsImluZGV4IiwidXJsRm9tYXQiLCJ1cmwiLCJuYW1lRm9ybWF0IiwibmFtZSIsImlkIiwicHVzaCIsImFwcGx5IiwicmVzdWx0QmxvY2siLCJpbm5lckhUTUwiLCJpIiwibGVuZ3RoIiwiY3JlYXRlR2FsbGVyeUl0ZW0iLCJpdGVtSUQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImV2ZW50cyIsImZ1bmMiLCJhcmciLCJsb2dpbk1vZGVsIiwibG9naW5WaWV3IiwiZmlsbFN0YXJ0UGFnZVVzZXJEYXRhIiwiYmluZEV2ZW50cyIsImdldENoZWNrYm94U3RhdHVzIiwiY2hlY2tCb3hSZW1lbWVtYmVyTWUiLCJjaGVja2VkIiwiZW1haWwiLCJ2YWx1ZSIsImxvZ2luIiwicGFzc3dvcmQiLCJzdWJtaXRCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdFZhbGlkYXRpb24iLCJiaW5kIiwiZXhpdEJ0biIsImluaXRMb2dPdXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwiaGlkZUFsZXJ0TXNncyIsImNyZWRlbnRpYWxzIiwiZ2V0TG9nQW5kUGFzcyIsInZhbGlkUmVzdWx0IiwiY2hlY2tGaWVsZHMiLCJsb2dBbmRQYXNzVmFsaWRhdGlvbiIsInN0YXR1cyIsImdldEFuZFNldENoZWNrYm94U3RhdHVzIiwibmF2aWdhdGVUbyIsInNob3dCdXR0b25zIiwiaGlkZUVudGVyQnRuIiwic2hvd0Vycm9yTXNnIiwibG9nT3V0IiwiaGlkZUJ1dHRvbnMiLCJzaG93RW50ZXJCdG4iLCJzZXRDaGVja2JveFN0YXR1cyIsInVybEFkbWluVXNlciIsInVybExvZ2luIiwicmVzcG9uc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwicGFyYW1zIiwic2V0VXNlckluZm8iLCJwYXNzIiwiY2hlY2tFbWFpbCIsImNoZWNrUGFzc3dvcmQiLCJ0ZXN0IiwiaXBob25lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb3VudGVyIiwiaXNHYWxsZXJ5SW5pdGVkIiwiaXNVc2VyTG9nZ2VkSW4iLCJ1c2VyRGF0YSIsIm1zZ0NvZGUiLCJzaG93SGlkZSIsInNob3ciLCJhbGVydE1zZyIsIm5vdEZpbGxlZEVtYWlsTXNnIiwibm90RmlsbGVkUGFzc01zZyIsIndyb25nRW1haWxNc2ciLCJ3cm9uZ1Bhc3NNc2ciLCJoaWRlIiwic2hvd0VscyIsIm1haW5QYWdlQnRuIiwicHJvZmlsZUJ0biIsImdhbGxlcnlCdG4iLCJjb250YWN0c0J0biIsImhpZGVFbHMiLCJsb2dpbkJ0biIsIm9iamVjdCIsImtleSIsImZvckVhY2giLCJET01FbGVtIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwiYXJyIiwicmVhZHlEYXRhIiwicmVmcmVzaFBvc3RzIiwiYml1bGRWaWV3IiwiY3JlYXRlUG9zdCIsImltZ3MiLCJpbWFnZXMiLCJlbGVtZW50IiwiZGF0ZSIsInRleHQiLCJnZXRQcm9maWxlRGF0YSIsImJ1aWxkVmlldyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidXNlck5hbWUiLCJhZGRyZXNzIiwiYWRyZXNzIiwiYWRkcmVzczIiLCJhZHJlc3MyIiwiY291bnRyeSIsInN0YXRlIiwiemlwIiwiVXRpbHMiLCJzb3J0aW5nQ29uZmlnIiwicGFnZSIsInNvcnQiLCJhIiwiYiIsImZpbHRlciIsInJvbGUiLCJleHAiLCJSZWdFeHAiLCJ3cmFwcGVyRWwiLCJ0ZW1wbGF0ZUlkIiwiY2xvbiIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJhcHBlbmRDaGlsZCIsInZpZXdzIiwicm91dGVOYW1lIiwibG9jYXRpb24iLCJoYXNoIiwiYnRucyIsInBhcmVudEVsZW1lbnQiLCJ3cmFwcGVyIiwicm91dGVDb25maWciLCJpbml0VGVtcGxhdGUiLCJ1cGRhdGVSb3V0ZSIsInJlcGxhY2UiLCJpc0xvZ2dlZEluIiwicm91dGUiLCJ3aW5kb3ciXSwibWFwcGluZ3Mi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U0FBYkEsRUFBS3NJLFdBR1pMLEdBQ0dBLEVBQUtJLE9BQVFySSxHQUNJLFFBQWJBLEVBQUtzSSxXQUdaTCxRQUNBTSxFQUFNLElBQUlDLE9BQU9qRyxNQUFNRSxPQUFPWCxNQUFPLFlBQ2xDbUcsRUFBS0ksT0FBT3JJLEdBQ1J1SSxFQUFJOUQsS0FBS3pFLEVBQUtLLDZCQU1uQm9JLEVBQVdDLE9BRTFCQyxFQURXbkosU0FBU0Msa0JBQWtCaUosS0FDdEJFLFFBQVFDLFdBQVUsS0FDNUJuSSxVQUFZLEtBQ1pvSSxZQUFZSCxtQkFHTEksS0FDTjNDLFFBQVFZLE1BQ0ZWLFVBQVVDLE9BQU8sMEJBSWpCd0MsS0FDTjNDLFFBQVFZLE1BQ0ZWLFVBQVVFLElBQUksNEJBSVp3QyxVQUNQQyxTQUFTQyxLQUFNLElBQU1GLDZCQVNyQixxQkFHTUcsS0FDWi9DLFFBQVFZLE1BQ0dvQyxjQUFjOUMsVUFBVUUsSUFBSSxrQ0FHeEIyQyxLQUNmL0MsUUFBUVksTUFDR29DLGNBQWM5QyxVQUFVQyxPQUFPIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5Q29udHJvbGxlciB7IFxyXG5cdGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3LCBvYnNlcnZlciwgdXRpbHMpIHtcclxuXHRcdHRoaXMubW9kZWwgPSBtb2RlbDtcclxuXHRcdHRoaXMudmlldyA9IHZpZXc7XHJcblx0XHR0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XHJcblx0XHR0aGlzLnV0aWxzID0gdXRpbHM7XHJcblx0XHQvLyAgIHRoaXMucGFnZUNvbmZpZyA9IHtcclxuXHRcdFx0Ly8gICAgICAgaXRlbXNQZXJQYWdlIDogMTAsXHJcblx0XHRcdC8vIGN1cnJlbnRQYWdlOiAwXHJcblx0XHRcdC8vIH1cclxuXHRcdFx0dGhpcy5pbml0KCk7XHJcbiAgICB9ICAgICAgICBcclxuXHRcdFxyXG5cdFx0aW5pdCgpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImdhbGxlcnkgaW5pdGVkXCIpXHJcblx0XHRcdFx0XHR0aGlzLm1vZGVsLmdldERhdGEoKS50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMudmlldy5pbml0KGRhdGEpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImdhbGxlcnktZGF0YTogXCIsIGRhdGEpXHJcblx0XHRcdFx0XHQgICAgLy90aGlzLmluaXRMaXN0ZW5lcnMoKVxyXG5cdFx0XHRcdFx0ICAgIC8vIHRoaXMudmlldy5idWlsZFVzZXJzTGlzdCh0aGlzLmdldE5leHRQYWdlKCkpO1xyXG5cdFx0XHRcdFx0ICAgIC8vIHRoaXMuaXNMYXN0UGFnZSgpO1xyXG5cdFx0XHRcdFx0fSk7IFx0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vaW5pdExpc3RlbmVycygpIHtcclxuXHJcblxyXG5cdFx0Ly8gdGhpcy52aWV3LkRPTUVsZW1lbnRzLnVzZXJMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRhYmxlTGluZUhhbmRsZXIuYmluZCh0aGlzKSk7XHJcblx0XHRcclxuXHRcdC8vIHRoaXMudmlldy5ET01FbGVtZW50cy5zZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuc2VhcmNoSGFuZGxlci5iaW5kKHRoaXMpKTtcclxuXHRcdC8vIHRoaXMudmlldy5ET01FbGVtZW50cy5lbWFpbERyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNvcnRpbmdIYW5kbGVyLmJpbmQodGhpcykpO1xyXG5cdFx0Ly8gdGhpcy52aWV3LkRPTUVsZW1lbnRzLnJvbGVEcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zb3J0aW5nSGFuZGxlci5iaW5kKHRoaXMpKTtcclxuXHRcdFxyXG4gICAgLy8gICAgIHRoaXMudmlldy5ET01FbGVtZW50cy5uZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmdldE5leHRQYWdlSGFuZGxlci5iaW5kKHRoaXMpKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB0YWJsZUxpbmVIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICAvLyAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdC8vIGxldCBpc0J1dHRvbiA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXJvdy1pZFwiKTtcclxuXHRcdC8vIGlzQnV0dG9uID8gdGhpcy5vcGVuRGV0YWlsKGlzQnV0dG9uKSA6IHRoaXMudmlldy5zZWxlY3RUYWJsZUxpbmUoZXZlbnQpO1xyXG5cdFx0Ly8gfVxyXG5cclxuXHRcdC8vIG9wZW5EZXRhaWwoYnV0dG9uSWQpIHtcclxuXHRcdC8vIFx0bGV0IHVzZXIgPSB0aGlzLm1vZGVsLmdldFVzZXJCeUlkKGJ1dHRvbklkKS50aGVuKChkYXRhKSA9PiB7XHJcblx0XHQvLyBcdFx0XHRcdFx0dGhpcy52aWV3LnNob3dTaW5nbGVVc2VyKGRhdGEpO1xyXG5cdFx0Ly8gXHRcdFx0fSk7IFx0XHJcblx0XHQvLyBcdH1cclxuXHRcdFx0XHJcblx0XHQvLyBcdHNlYXJjaEhhbmRsZXIoZXZlbnQpIHtcclxuXHRcdC8vIFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdC8vIFx0bGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG5cdFx0Ly8gXHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMgJiYgKHZhbHVlLmxlbmd0aCA9PSAwIHx8IHZhbHVlLmxlbmd0aCA+IDIpKSB7XHJcblx0XHQvLyBcdFx0dGhpcy5wYWdlQ29uZmlnLmN1cnJlbnRQYWdlID0gMDtcclxuXHRcdC8vIFx0XHRcdFx0XHR0aGlzLnZpZXcuY2xlYXJMaXN0KCk7XHJcblx0XHQvLyBcdFx0dGhpcy52aWV3LmJ1aWxkVXNlcnNMaXN0KHRoaXMuZ2V0TmV4dFBhZ2UoKSwgdGhpcy51dGlscy5zb3J0aW5nQ29uZmlnW1wiRmluZFwiXSk7XHJcblx0XHQvLyBcdH1cclxuXHRcdC8vIH1cclxuXHJcblx0XHQvLyBzb3J0aW5nSGFuZGxlcihldmVudCkge1xyXG5cdFx0Ly8gXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Ly8gXHR0aGlzLnZpZXcudXBkYXRlQnV0dG9uVGV4dChldmVudCk7XHJcblx0XHQvLyBcdHRoaXMuYXBwbHlTb3J0aW5nTWV0aG9kKHRoaXMudmlldy5nZXRTb3J0aW5nVHlwZShldmVudCkpO1xyXG5cdFx0Ly8gfVxyXG5cdFx0XHRcclxuXHRcdC8vIFx0Z2V0TmV4dFBhZ2VIYW5kbGVyKGV2ZW50KSB7XHJcblx0XHQvLyBcdFx0XHRldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Ly8gXHRcdFx0dGhpcy52aWV3LmJ1aWxkVXNlcnNMaXN0KHRoaXMuZ2V0TmV4dFBhZ2UoKSk7XHJcblx0XHQvLyBcdFx0XHR0aGlzLmlzTGFzdFBhZ2UoKTsgXHJcblx0XHQvLyBcdH1cclxuXHJcblx0XHQvLyBhcHBseVNvcnRpbmdNZXRob2Qoc29ydGluZ1R5cGUpIHtcclxuXHRcdC8vIFx0XHRcdGlmICghc29ydGluZ1R5cGUpe3JldHVybn1cclxuXHRcdC8vIFx0dGhpcy5wYWdlQ29uZmlnLmN1cnJlbnRQYWdlID0gMDtcclxuXHRcdC8vIFx0XHRcdHRoaXMudmlldy5jbGVhckxpc3QoKTtcclxuXHRcdC8vIFx0dGhpcy52aWV3LmJ1aWxkVXNlcnNMaXN0KHRoaXMuZ2V0TmV4dFBhZ2UoKSwgdGhpcy51dGlscy5zb3J0aW5nQ29uZmlnW3NvcnRpbmdUeXBlXSk7XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0Ly8gXHRnZXROZXh0UGFnZSgpe1xyXG5cdFx0Ly8gXHRsZXQgc3RhcnQgPSB0aGlzLnBhZ2VDb25maWcuaXRlbXNQZXJQYWdlICogdGhpcy5wYWdlQ29uZmlnLmN1cnJlbnRQYWdlO1xyXG5cdFx0Ly8gXHRsZXQgZW5kID0gdGhpcy5wYWdlQ29uZmlnLml0ZW1zUGVyUGFnZSArIHN0YXJ0O1xyXG5cdFx0Ly8gXHR0aGlzLnBhZ2VDb25maWcuY3VycmVudFBhZ2UrKztcclxuXHRcdC8vIFx0cmV0dXJuIHRoaXMubW9kZWwudXNlcnNMaXN0RGF0YS5zbGljZShzdGFydCwgZW5kKTtcclxuXHRcdC8vIFx0fVxyXG5cdFx0XHRcclxuXHRcdC8vIFx0aXNMYXN0UGFnZSgpIHtcclxuXHRcdC8vIFx0XHRcdGlmICh0aGlzLmlzTWF4UGFnZSgpKXtcclxuXHRcdC8vIFx0XHRcdFx0XHR0aGlzLnZpZXcuaGlkZU5leHRQYWdlKCk7XHRcclxuXHRcdC8vIFx0XHRcdFx0XHR0aGlzLmNvdW50U3RhdHMoKTtcclxuXHRcdC8vIFx0XHRcdH1cclxuXHRcdC8vIFx0fVxyXG5cclxuXHRcdC8vIGlzTWF4UGFnZSgpIHtcclxuXHRcdC8vIFx0cmV0dXJuICh0aGlzLnBhZ2VDb25maWcuY3VycmVudFBhZ2UgKiB0aGlzLnBhZ2VDb25maWcuaXRlbXNQZXJQYWdlKSA+PSB0aGlzLm1vZGVsLnVzZXJzTGlzdERhdGEubGVuZ3RoO1xyXG5cdFx0Ly8gfVxyXG5cclxuXHRcdC8vIGNvdW50U3RhdHMoKXtcclxuXHRcdC8vIFx0bGV0IHN0YXRzID0gdGhpcy5tb2RlbC51c2Vyc0xpc3REYXRhLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiB7XHJcblx0XHQvLyBcdFx0KGl0ZW0ucm9sZSA9PSBcIkFkbWluXCIpID8gc3VtLmFkbWlucysrIDpcdHN1bS51c2VycysrO1xyXG5cdFx0Ly8gXHRcdHJldHVybiBzdW07XHJcblx0XHQvLyBcdH0sIHthZG1pbnM6MCwgdXNlcnM6MH0pO1xyXG5cdFx0Ly8gXHR0aGlzLnZpZXcuc2hvd1N0YXRzKHN0YXRzKTtcclxuXHRcdC8vIH1cclxuXHRcdFxyXG4gICAgXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnlNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmdldFVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2FsbGVyeSc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5nZXRVcmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdhbGxlcnkgaXMgbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJzTGlzdERhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9KSAgICAgICAgIFxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5VmlldyB7ICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuRE9NRWxlbWVudHMgPSB7XHJcblx0XHRcdFx0XHRyZXN1bHRCbG9jazpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzdWx0JyksXHJcbiAgICAgICAgfTsgICAgIFxyXG5cdFx0XHQgdGhpcy5yZWFkeURhdGFGb3JHYWxsZXJ5ID0gW107XHJcblx0XHRcdCB0aGlzLnZpc2libGVEYXRhID0gW107XHJcbiAgICAgICAgXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGluaXQoZGF0YSl7XHJcblx0XHRcdHRoaXMucmVmcmVzaEdhbGxlcnkoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVmcmVzaEdhbGxlcnkoZGF0YSl7XHJcblx0XHRcdHRoaXMucHJlcGFyZURhdGEoZGF0YSk7XHJcblx0XHRcdHRoaXMuYml1bGRHYWxsZXJ5KHRoaXMudmlzaWJsZURhdGEpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0cHJlcGFyZURhdGEgKGRhdGEpIHtcclxuXHRcdFx0dGhpcy5yZWFkeURhdGFGb3JHYWxsZXJ5ID0gZGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7ICAgICAgICAgICAgICAgICBcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR1cmw6IHRoaXMudXJsRm9tYXQoaXRlbS51cmwpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiB0aGlzLm5hbWVGb3JtYXQoaXRlbS5uYW1lKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXRlbUlEOiBpdGVtLmlkXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMudmlzaWJsZURhdGEgPSBbXTtcclxuXHRcdFx0dGhpcy52aXNpYmxlRGF0YS5wdXNoLmFwcGx5KHRoaXMudmlzaWJsZURhdGEsXHR0aGlzLnJlYWR5RGF0YUZvckdhbGxlcnkpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRiaXVsZEdhbGxlcnkgKHZpc2libGVEYXRhKXsgIFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmlubmVySFRNTCA9IFwiXCI7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdmlzaWJsZURhdGEubGVuZ3RoOyBpKyspIHsgICAgXHJcblx0XHRcdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmlubmVySFRNTCArPSB0aGlzLmNyZWF0ZUdhbGxlcnlJdGVtKHZpc2libGVEYXRhW2ldKTsgXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRjcmVhdGVHYWxsZXJ5SXRlbSAoaXRlbSkge1xyXG5cdFx0XHRyZXR1cm4gXHRgPGRpdiBjbGFzcz1cImNvbC1tZC00IGdhbGxlcnktY2FyZFwiIGlkID0gJHtpdGVtLml0ZW1JRH0+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZCBtYi00IGJveC1zaGFkb3cgZ2FsbGVyeS1pdGVtXCIgPlxyXG5cdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHtpdGVtLnVybH1cIiBhbHQ9XCIke2l0ZW0ubmFtZX1cIiBjbGFzcz1cImNhcmQtaW1nLXRvcFwiIGRhdGEtc3JjPVwiaG9sZGVyLmpzLzEwMHB4MjI1P3RoZW1lPXRodW1iJmFtcDtiZz01NTU5NWMmYW1wO2ZnPWVjZWVlZiZhbXA7dGV4dD1UaHVtYm5haWxcIiBkYXRhLWhvbGRlci1yZW5kZXJlZD1cInRydWVcIiBzdHlsZT1cImhlaWdodDogMjI1cHg7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBibG9jaztcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkLXRleHQgbWItNFwiPiR7aXRlbS5uYW1lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCI+VmlldzwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBlZGl0XCI+RWRpdDwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiAgbmFtZSA9IFwiZGVsZXRlLWltZ1wiIGNsYXNzID0gXCJidG4gYnRuLWRhbmdlclwiICB0aXRsZSA9IFwi0KPQtNCw0LvQuNGC0Ywg0LTQsNC90L3QvtC1INC40LfQvtCx0YDQsNC20LXQvdC40LVcIj4g0KPQtNCw0LvQuNGC0YwgPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5gO1xyXG5cdFx0fTtcclxuXHRcdG5hbWVGb3JtYXQgKG5hbWUpe1xyXG5cdFx0XHRyZXR1cm4gIG5hbWUgPyBuYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpIDogXCJMb2huIERvaFwiO1xyXG5cdFx0fTtcclxuXHRcdHVybEZvbWF0ICAodXJsKXtcclxuXHRcdFx0XHRyZXR1cm4gICh1cmwuaW5kZXhPZihcImh0dHBzOi8vXCIpKSA9PT0gLTEgPyBgaHR0cHM6Ly8ke3VybH1gIDogIHVybDsgXHJcblx0XHR9O1xyXG5cclxuXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVFdmVudChuYW1lLCBmdW5jKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzW25hbWVdID0gZnVuYztcbiAgICB9XG4gICAgXG4gICAgY2FsbEV2ZW50KG5hbWUsIGFyZykge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW25hbWVdKGFyZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbkNvbnRyb2xsZXIgeyBcclxuXHRjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldywgdXRpbHMpIHtcclxuXHRcdHRoaXMubG9naW5Nb2RlbCA9IG1vZGVsO1xyXG5cdFx0dGhpcy5sb2dpblZpZXcgPSB2aWV3O1xyXG5cdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0XHQvL3RoaXMudXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW4vXCJcclxuXHR9ICAgIFxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0Ly90aGlzLmxvZ2luVmlldy5oaWRlQnV0dG9ucygpO1xyXG5cdFx0dGhpcy5maWxsU3RhcnRQYWdlVXNlckRhdGEoKTtcclxuXHRcdHRoaXMuYmluZEV2ZW50cygpO1xyXG5cclxuXHR9XHJcblxyXG5cdGZpbGxTdGFydFBhZ2VVc2VyRGF0YSAoKXtcclxuXHRcdGxldCBjaGVja0JveFN0YXR1cyA9IHRoaXMubG9naW5Nb2RlbC5nZXRDaGVja2JveFN0YXR1cygpO1xyXG5cdFx0aWYgKGNoZWNrQm94U3RhdHVzID09IHRydWUpe1xyXG5cdFx0XHR0aGlzLmxvZ2luTW9kZWwuZ2V0RGF0YSgpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuY2hlY2tCb3hSZW1lbWVtYmVyTWUuY2hlY2tlZCA9IHRydWU7XHRcclxuXHRcdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSA9IGRhdGEubG9naW47ICAgIFxyXG5cdFx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlID0gZGF0YS5wYXNzd29yZDtcclxuXHRcdFx0fSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmNoZWNrQm94UmVtZW1lbWJlck1lLmNoZWNrZWQgPSBmYWxzZTtcdFxyXG5cdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlID0gXCJcIjtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFx0XHJcblx0YmluZEV2ZW50cygpIHtcclxuXHRcdC8vdGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuZW50ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5pdFZhbGlkYXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5zdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5pdFZhbGlkYXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5leGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmluaXRMb2dPdXQuYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRpbml0VmFsaWRhdGlvbihldmVudCl7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0aWYoZXZlbnQudGFyZ2V0LmlkID09ICdzdWJtaXRCdG4nKXtcclxuXHRcdFx0dGhpcy5sb2dpblZpZXcuaGlkZUFsZXJ0TXNncygpO1xyXG5cdFx0XHRsZXQgY3JlZGVudGlhbHMgPSB0aGlzLmxvZ2luVmlldy5nZXRMb2dBbmRQYXNzKCk7XHJcblx0XHRcdGxldCB2YWxpZFJlc3VsdCA9IHRoaXMubG9naW5Nb2RlbC5jaGVja0ZpZWxkcyAoY3JlZGVudGlhbHMubG9naW4sIGNyZWRlbnRpYWxzLnBhc3N3b3JkKTtcclxuXHRcdFx0aWYodmFsaWRSZXN1bHQgPT0gdHJ1ZSl7XHJcblx0XHRcdFx0dGhpcy5sb2dpbk1vZGVsLmxvZ0FuZFBhc3NWYWxpZGF0aW9uKGNyZWRlbnRpYWxzKVxyXG5cdFx0XHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZ2V0QW5kU2V0Q2hlY2tib3hTdGF0dXMoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy51dGlscy5uYXZpZ2F0ZVRvKFwibWFpblBhZ2VcIik7XHJcblx0XHRcdFx0XHRcdHRoaXMubG9naW5WaWV3LnNob3dCdXR0b25zKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMubG9naW5WaWV3LmhpZGVFbnRlckJ0bigpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2luVmlldy5zaG93RXJyb3JNc2coXCIxXCIpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5sb2dpblZpZXcuc2hvd0Vycm9yTXNnKHZhbGlkUmVzdWx0KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGluaXRMb2dPdXQoKXtcclxuXHRcdHRoaXMubG9naW5Nb2RlbC5sb2dPdXQoKTtcclxuXHRcdHRoaXMubG9naW5WaWV3LmhpZGVCdXR0b25zKCk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5zaG93RW50ZXJCdG4oKTtcclxuXHRcdHRoaXMudXRpbHMubmF2aWdhdGVUbyhcIlwiKTtcclxuXHRcdHRoaXMuZ2V0QW5kU2V0Q2hlY2tib3hTdGF0dXMoKTtcclxuXHR9XHJcblx0Z2V0QW5kU2V0Q2hlY2tib3hTdGF0dXMoKXtcclxuXHRcdGlmKHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmNoZWNrQm94UmVtZW1lbWJlck1lLmNoZWNrZWQgPT0gdHJ1ZSl7XHJcblx0XHRcdHRoaXMubG9naW5Nb2RlbC5zZXRDaGVja2JveFN0YXR1cygndHJ1ZScpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5sb2dpbk1vZGVsLnNldENoZWNrYm94U3RhdHVzKCdmYWxzZScpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdFx0Y2xhc3MgTG9naW5Nb2RlbCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnVybEFkbWluVXNlciA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FkbWluVXNlclwiO1xyXG5cdFx0dGhpcy51cmxMb2dpbiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xvZ2luXCI7O1xyXG5cdH1cclxuXHRcdFxyXG5cdGdldERhdGEoKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy51cmxBZG1pblVzZXIpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG5cdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJJbml0aWFsIGRhdGEgaXMgbG9hZGVkXCIpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fSkgICAgICAgICBcclxuXHR9XHJcblx0XHRcclxuXHRcclxuXHRnZXRDaGVja2JveFN0YXR1cygpe1xyXG5cdFx0aWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyZW1lbWJlclwiKSA9PSBcInRydWVcIil7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcblx0c2V0Q2hlY2tib3hTdGF0dXMoY2hlY2tlZCl7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInJlbWVtYmVyXCIsIGNoZWNrZWQgKTtcclxuXHR9XHJcblxyXG5cdGNoZWNrU2Vzc2lvbigpIHtcclxuXHRcdGxldCBjcmVkZW50aWFscyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFscycpO1xyXG5cdFx0aWYoY3JlZGVudGlhbHMpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHNldFVzZXJJbmZvKG9iail7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWRlbnRpYWxzXCIgLCBKU09OLnN0cmluZ2lmeShvYmopKVxyXG5cdH07XHJcblxyXG5cdGxvZ091dCgpe1xyXG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NyZWRlbnRpYWxzJyk7XHJcblx0fVxyXG5cclxuXHJcblx0bG9nQW5kUGFzc1ZhbGlkYXRpb24gKGNyZWRlbnRpYWxzKSB7XHJcblx0XHRsZXQgdXJsID0gdGhpcy51cmxMb2dpbjtcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFscylcclxuXHRcdH07XHJcblx0XHRcdFxyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcylcclxuXHRcdC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdGlmIChkYXRhLnN0YXR1cykge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXRVc2VySW5mbyhjcmVkZW50aWFscylcclxuXHRcdFx0XHRcdFx0Ly9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHMnLCBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFscykpO1xyXG5cdFx0XHRcdH0gXHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdH07XHJcblxyXG5cdGNoZWNrRmllbGRzIChlbWFpbCwgcGFzcyl7XHJcblx0XHRpZighZW1haWwpe3JldHVybiAnMid9XHJcblx0XHRpZighcGFzcyl7cmV0dXJuICczJ31cclxuXHRcdGlmKCF0aGlzLmNoZWNrRW1haWwoZW1haWwpKXtyZXR1cm4gJzQnfVxyXG5cdFx0aWYoIXRoaXMuY2hlY2tQYXNzd29yZChwYXNzKSl7cmV0dXJuICc1J31cclxuXHRcdGVsc2Uge3JldHVybiB0cnVlfVxyXG5cdH07XHJcblx0XHJcblx0Y2hlY2tFbWFpbCAoZW1haWwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0XHRsZXQgcmVnID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XHJcblx0XHRyZXR1cm4gcmVnLnRlc3QoZW1haWwpO1xyXG5cdH07XHJcblx0Y2hlY2tQYXNzd29yZChwYXNzd29yZCl7XHJcblx0XHRpZihwYXNzd29yZC5sZW5ndGggPj0gOCl7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2UgeyBcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblxyXG5cdHNhdmVEYXRhKGl0ZW0pIHsgICAgICAgICBcclxuXHRcdGNvbnNvbGUubG9nKFwiU2F2aW5nIGl0ZW0uLi4gXCIgKyBpdGVtLm5hbWUpO1xyXG5cdFx0bGV0IGlwaG9uZSA9IHtcclxuXHRcdFx0XCJuYW1lXCI6IFwiU2F2ZWQgaVBob25lXCIsXHJcblx0XHRcdFwicHJpY2VcIjogMTI0NTgsXHJcblx0XHRcdFwicG9wdWxhclwiOiB0cnVlLFxyXG5cdFx0XHRcImRhdGVcIjogMTQ2NzQ0MDIwM1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKFxyXG5cdFx0XHRmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsgICAgICAgICAgICBcclxuXHRcdFx0XHRyZXNvbHZlKGlwaG9uZSk7ICAgICAgICAgIFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHRcclxuXHR1cGRhdGVEYXRhKGNvdW50ZXIpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgaXRlbS4uLiBcIiArIGNvdW50ZXIpO1xyXG5cdFx0bGV0IHNhbXN1bmcgPSB7XHJcblx0XHRcdFwibmFtZVwiOiBcIlNhdmVkIFNhbXN1bmdcIixcclxuXHRcdFx0XCJwcmljZVwiOiAxMjQ1OCxcclxuXHRcdFx0XCJwb3B1bGFyXCI6IHRydWUsXHJcblx0XHRcdFwiZGF0ZVwiOiAxNDY3NDQwMjAzXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNhbXN1bmcpO1xyXG5cdH1cclxuXHRzZXRMb2NhbFN0b3JHYWxsZXJ5SW5pdFN0YXR1cyhzdGF0dXMpe1xyXG5cdFx0bG9jYWxTdG9yYWdlLmlzR2FsbGVyeUluaXRlZCA9IHN0YXR1cztcclxuXHR9XHJcblx0Y2hhbmdlTG9jYWxTdG9yTG9nZ2VkSW5TdGF0dXMoc3RhdHVzKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5pc1VzZXJMb2dnZWRJbiA9IHN0YXR1cztcclxuXHR9XHJcblx0Z2V0TG9jYWxTdG9yYWdlR2FsbGVyeVN0YXR1cygpe1xyXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZS5pc0dhbGxlcnlJbml0ZWQ7XHJcblx0fVxyXG5cdGdldElzVXNlckxvZ2dlZEluKCl7XHJcblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlLmlzVXNlckxvZ2dlZEluO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tVc2VyKHVzZXJEYXRhKXtcclxuXHRcdGxldCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2xvZ2luJztcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSlcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHRcclxuXHR9XHJcblxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFxyXG59XHJcblx0XHJcbiBcclxuIiwiZXhwb3J0IGRlZmF1bHRcdGNsYXNzIExvZ2luVmlldyB7XHJcblx0Y29uc3RydWN0b3IgKCl7XHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRzdWJtaXRCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdEJ0blwiKSxcclxuXHRcdFx0Ly9lbnRlckJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW50ZXJCdG5cIiksXHJcblx0XHRcdGV4aXRCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2V4aXRCdG5cIiksXHJcblx0XHRcdGVtYWlsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dEVtYWlsXCIpLFxyXG5cdFx0XHRwYXNzd29yZCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRQYXNzd29yZFwiKSxcclxuXHRcdFx0Y2hlY2tCb3hSZW1lbWVtYmVyTWUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0UmVtZW1iZXJcIiksXHJcblx0XHRcdFxyXG5cdFx0XHRsb2dpbkJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW5CdG5cIiksXHJcblx0XHRcdG1haW5QYWdlQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluUGFnZUJ0blwiKSxcclxuXHRcdFx0cHJvZmlsZUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZUJ0blwiKSxcclxuXHRcdFx0Z2FsbGVyeUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FsbGVyeUJ0blwiKSxcclxuXHRcdFx0Y29udGFjdHNCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhY3RzQnRuXCIpLFxyXG5cdFx0XHRcclxuXHJcblx0XHRcdHNob3dVc2VyRGF0YUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2hvd1VzZXJEYXRhQnRuXCIpLFxyXG5cdFx0XHRzaG93R2FsbGVyeUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2hvd0dhbGxlcnlCdG5cIiksXHJcblxyXG5cclxuXHRcdFx0YWxlcnRNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FsZXJ0LW1lc3NhZ2VcIiksIFxyXG5cdFx0XHRub3RGaWxsZWRFbWFpbE1zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90RmlsbGVkRW1haWxNc2dcIiksXHJcblx0XHRcdG5vdEZpbGxlZFBhc3NNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdEZpbGxlZFBhc3NNc2dcIiksXHJcblx0XHRcdHdyb25nRW1haWxNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dyb25nRW1haWxNc2dcIiksXHJcblx0XHRcdHdyb25nUGFzc01zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd3JvbmdQYXNzTXNnXCIpXHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHRnZXRMb2dBbmRQYXNzKCl7XHJcblx0XHRsZXQgY3JlZGVudGlhbHMgPSB7XHJcblx0XHRcdFwibG9naW5cIiA6IHRoaXMuRE9NRWxlbWVudHMuZW1haWwudmFsdWUsXHJcblx0XHRcdFwicGFzc3dvcmRcIiA6IHRoaXMuRE9NRWxlbWVudHMucGFzc3dvcmQudmFsdWVcclxuXHRcdH1cclxuXHRcdHJldHVybiBjcmVkZW50aWFscztcclxuXHR9O1xyXG5cdFxyXG5cdHNob3dFcnJvck1zZyhtc2dDb2RlKXtcclxuXHRcdHN3aXRjaChtc2dDb2RlKXtcclxuXHRcdFx0Y2FzZSAnMSc6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMuYWxlcnRNc2ddfSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHJcblx0XHRcdGNhc2UgJzInOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZEVtYWlsTXNnXX0pXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnMyc6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkUGFzc01zZ119KVxyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRcdGNhc2UgJzQnOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLndyb25nRW1haWxNc2ddfSlcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRjYXNlICc1JzpcclxuXHRcdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy53cm9uZ1Bhc3NNc2ddfSlcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRoaWRlQWxlcnRNc2dzKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcImhpZGVcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLmFsZXJ0TXNnLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZEVtYWlsTXNnLCBcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRQYXNzTXNnLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLndyb25nRW1haWxNc2csXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMud3JvbmdQYXNzTXNnXX0pO1xyXG5cdH07XHJcblx0XHJcblx0XHJcblx0c2hvd0FsZXJ0TXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLmFsZXJ0TXNnXX0pXHJcblx0fVxyXG5cdHNob3dOb3RGaWxsZWRFbWFpbE1zZygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRFbWFpbE1zZ119KVxyXG5cdH1cclxuXHRzaG93Tm90RmlsbGVkUGFzc3dvcmRNc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkUGFzc01zZ119KVxyXG5cdH1cclxuXHRzaG93QmFkTG9naW5Nc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMud3JvbmdFbWFpbE1zZ119KVxyXG5cdH07XHJcblx0XHJcblx0c2hvd0JhZFBhc3N3b3JkTXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLndyb25nUGFzc01zZ119KVxyXG5cdH07XHJcblx0LypcclxuXHRtYWluUGFnZUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjbWFpblBhZ2VcIiksXHJcblx0XHRcdHByb2ZpbGVCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3Byb2ZpbGVCdG5cIiksXHJcblx0XHRcdGdhbGxlcnlCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2dhbGxlcnlCdG5cIiksXHJcblx0XHRcdGNvbnRhY3RzQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNjb250YWN0c0J0blwiKSxcclxuXHQqL1xyXG5cdHNob3dCdXR0b25zKCl7XHJcblx0XHR0aGlzLnNob3dFbHMoW3RoaXMuRE9NRWxlbWVudHMubWFpblBhZ2VCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLnByb2ZpbGVCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLmdhbGxlcnlCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLmNvbnRhY3RzQnRuLFxyXG5cdFx0dGhpcy5ET01FbGVtZW50cy5leGl0QnRuXSlcclxuXHR9XHJcblx0XHJcblx0aGlkZUJ1dHRvbnMoKXtcclxuXHRcdHRoaXMuaGlkZUVscyhbdGhpcy5ET01FbGVtZW50cy5tYWluUGFnZUJ0bixcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5wcm9maWxlQnRuLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmdhbGxlcnlCdG4sXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuY29udGFjdHNCdG4sXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuZXhpdEJ0bl0pXHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdGhpZGVFbnRlckJ0bigpe1xyXG5cdFx0dGhpcy5oaWRlRWxzKFt0aGlzLkRPTUVsZW1lbnRzLmxvZ2luQnRuXSk7XHJcblx0fVxyXG5cdHNob3dFbnRlckJ0bigpe1xyXG5cdFx0dGhpcy5zaG93RWxzKFt0aGlzLkRPTUVsZW1lbnRzLmxvZ2luQnRuXSk7XHJcblx0fVxyXG5cdHNob3dIaWRlKG9iamVjdCl7ICAgIFxyXG5cdFx0Zm9yKHZhciBrZXkgaW4gb2JqZWN0KSB7IFxyXG5cdFx0XHR2YXIga2V5ID0ga2V5O1xyXG5cdFx0XHR2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTsgXHJcblx0XHRcdHZhbHVlLmZvckVhY2goRE9NRWxlbSA9PiB7XHJcblx0XHRcdFx0RE9NRWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiICwgXCJoaWRlXCIpO1xyXG5cdFx0XHRcdERPTUVsZW0uY2xhc3NMaXN0LmFkZChrZXkpO1xyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHNob3dFbHMoYXJyKXtcclxuXHRcdGFyci5mb3JFYWNoKERPTUVsZW0gPT4ge1xyXG5cdFx0XHRcdERPTUVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcblx0XHR9KVxyXG5cdH1cclxuXHRoaWRlRWxzKGFycil7XHJcblx0XHRhcnIuZm9yRWFjaChET01FbGVtID0+IHtcclxuXHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluQ29udHJvbGxlciB7IFxyXG4gICAgY29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcblx0XHRcdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0XHRcdHRoaXMuaW5pdCgpO1xyXG4gICAgfSAgICAgICAgXHJcblxyXG5cdFxyXG5cdGluaXQoKXtcclxuXHRcdGNvbnNvbGUubG9nKFwibWFpbiBpbml0ZWRcIilcclxuXHRcdFxyXG5cdFx0dGhpcy5tb2RlbC5nZXREYXRhKCkudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHR0aGlzLnZpZXcuaW5pdChkYXRhKTtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJtYWluLWRhdGE6IFwiLCBkYXRhKVxyXG5cdFx0fSk7IFx0XHJcblx0fVxyXG4gICAgXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5Nb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdFx0dGhpcy5nZXRVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Bvc3RzJztcclxuICAgIH1cclxuXHJcblx0XHRnZXREYXRhKCkge1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godGhpcy5nZXRVcmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG5cdFx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiR2FsbGVyeSBpcyBsb2FkZWRcIik7XHJcblx0XHRcdFx0XHR0aGlzLnVzZXJzTGlzdERhdGEgPSBkYXRhO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pICAgICAgICAgXHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5WaWV3IHsgICAgICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ET01FbGVtZW50cyA9IHtcclxuXHRcdFx0XHRcdHJlc3VsdEJsb2NrIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXN1bHQtbWFpblwiKVxyXG4gICAgICAgIH07ICAgICBcclxuXHRcdFx0XHR0aGlzLnJlYWR5RGF0YSA9IFtdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpbml0KGRhdGEpe1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hQb3N0cyhkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZWZyZXNoUG9zdHMoZGF0YSl7XHJcblx0XHRcdHRoaXMucmVhZHlEYXRhID0gZGF0YTtcclxuXHRcdFx0dGhpcy5iaXVsZFZpZXcodGhpcy5yZWFkeURhdGEpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFxyXG5cdFx0Yml1bGRWaWV3IChyZWFkeURhdGEpeyAgXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMucmVzdWx0QmxvY2suaW5uZXJIVE1MID0gXCJcIjtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZWFkeURhdGEubGVuZ3RoOyBpKyspIHsgICAgXHJcblx0XHRcdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmlubmVySFRNTCArPSB0aGlzLmNyZWF0ZVBvc3QocmVhZHlEYXRhW2ldKTsgXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y3JlYXRlUG9zdCAoaXRlbSkge1xyXG5cdFx0XHRsZXQgaW1ncyA9IGBgO1xyXG5cdFx0XHRpdGVtLmltYWdlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG5cdFx0XHRcdGltZ3MgKz0gXHJcblx0XHRcdFx0XHRgPGltZyBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgIG1hcmdpbjogMTBweDsgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcIiBkYXRhLXdpZHRoPVwiNjQwXCIgZGF0YS1oZWlnaHQ9XCI2NDBcIiBkYXRhLWFjdGlvbj1cInpvb21cIiBzcmM9XCIke2VsZW1lbnR9XCI+XHJcblx0XHRcdFx0YFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gXHRgPGxpIGNsYXNzPVwicnYgYiBhZ3pcIj5cclxuXHRcdFx0PGltZyBjbGFzcz1cImJvcyB2YiB5YiBhZmZcIiAgc3JjPSAke2l0ZW0udXJsfT5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInJ3XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJwZFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJwYlwiPlxyXG5cdFx0XHRcdFx0XHQ8c21hbGwgY2xhc3M9XCJhY3ggYXhjXCI+JHtpdGVtLmRhdGV9PC9zbWFsbD5cclxuXHRcdFx0XHRcdFx0PGg2PiR7aXRlbS5uYW1lfTwvaDY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxwPiR7aXRlbS50ZXh0fTwvcD5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3lcIiBkYXRhLWdyaWQ9XCJpbWFnZXNcIj4ke2ltZ3N9PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2xpPmBcclxuXHRcdH07XHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2ZpbGVDb250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcblx0XHRcdHRoaXMubW9kZWwgPSBtb2RlbDtcclxuXHRcdFx0dGhpcy52aWV3ID0gdmlldztcclxuXHRcdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0XHR0aGlzLmluaXQoKTtcclxuXHRcdFx0XHJcblx0fVxyXG4gICBcclxuXHRcdGluaXQoKXtcclxuXHRcdGNvbnNvbGUubG9nKFwicHJvZmlsZSBpbml0ZWRcIik7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5nZXRQcm9maWxlRGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgLy90aGlzLmluaXRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICB0aGlzLnZpZXcuaW5pdChkYXRhKTtcclxuICAgICAgICAgICAgLy90aGlzLmlzTGFzdFBhZ2UoKTtcclxuICAgICAgICB9KTsgXHRcclxuXHR9XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZU1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0XHR0aGlzLnVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2ZpbGVcIlxyXG4gICAgfVxyXG5cclxuXHRcdGdldFByb2ZpbGVEYXRhKCl7XHJcblx0XHRcdHJldHVybiBmZXRjaCh0aGlzLnVybCkudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlByb2ZpbGVEYXRhIGlzIGxvYWRlZFwiKTtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG4gICAgICAgIH0pIFxyXG5cdFx0fVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9maWxlVmlldyB7ICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuRE9NRWxlbWVudHMgPSB7XHJcblx0XHRcdFx0XHRmaXJzdE5hbWUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpcnN0TmFtZVwiKSxcclxuXHRcdFx0XHRcdGxhc3ROYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsYXN0TmFtZVwiKSxcclxuXHRcdFx0XHRcdHVzZXJOYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VybmFtZVwiKSxcclxuXHRcdFx0XHRcdGVtYWlsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbWFpbFByb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRhZGRyZXNzIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRyZXNzUHJvZmlsZVwiKSxcclxuXHRcdFx0XHRcdGFkZHJlc3MyIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRyZXNzMlByb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRjb3VudHJ5IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb3VudHJ5UHJvZmlsZVwiKSxcclxuXHRcdFx0XHRcdHN0YXRlIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGF0ZVByb2ZpbGVcIiksXHRcclxuXHRcdFx0XHRcdHppcCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjemlwXCIpXHJcbiAgICAgICAgfTsgICAgIFxyXG4gICAgICAgIHRoaXMucmVhZHlEYXRhO1xyXG4gICAgfVxyXG5cclxuXHRcdGluaXQoZGF0YSl7XHJcblx0XHRcdHRoaXMucmVhZHlEYXRhID0gZGF0YVswXTtcclxuXHRcdFx0dGhpcy5idWlsZFZpZXcodGhpcy5yZWFkeURhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGJ1aWxkVmlldyhkYXRhKXtcclxuXHRcdFx0Y29uc29sZS5sb2codGhpcy5ET01FbGVtZW50cyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmZpcnN0TmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5sYXN0TmFtZS52YWx1ZSA9IGRhdGEubGFzdE5hbWU7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMudXNlck5hbWUudmFsdWUgPSBkYXRhLnVzZXJOYW1lO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmVtYWlsLnZhbHVlID0gZGF0YS5lbWFpbDtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5hZGRyZXNzLnZhbHVlID0gZGF0YS5hZHJlc3M7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuYWRkcmVzczIudmFsdWUgPSBkYXRhLmFkcmVzczI7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuY291bnRyeS52YWx1ZSA9IGRhdGEuY291bnRyeTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5zdGF0ZS52YWx1ZSA9IGRhdGEuc3RhdGU7XHRcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy56aXAudmFsdWUgPSBkYXRhLnppcDtcclxuXHRcdH1cclxuICAgIFxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVdGlscyB7XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuXHRcdFx0XG5cbiAgICAgICAgdGhpcy5zb3J0aW5nQ29uZmlnID0ge1xuICAgICAgICAgICBcIkFcIjogcGFnZSA9PiB7XG4gICAgICAgICAgICAgICAgcGFnZS5zb3J0KChhLCBiKSA9PntcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZW1haWwgPiBiLmVtYWlsID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlpcIjogcGFnZSA9PiB7XG4gICAgICAgICAgICAgICAgcGFnZS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmVtYWlsIDwgYi5lbWFpbCA/IDEgOiAtMTs7XG4gICAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQWRtaW5cIjogcGFnZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2UuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnJvbGUgPT0gXCJBZG1pblwiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJVc2VyXCI6IHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5yb2xlID09IFwiVXNlclwiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJGaW5kXCI6IHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBleHAgPSBuZXcgUmVnRXhwKGV2ZW50LnRhcmdldC52YWx1ZSwgXCJpXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2UuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwLnRlc3QoaXRlbS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cdFx0fVxuXHRcdFxuXHRcdHN0YXRpYyBpbml0VGVtcGxhdGUod3JhcHBlckVsLCB0ZW1wbGF0ZUlkKSB7XG5cdFx0XHR2YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0ZW1wbGF0ZUlkfWApO1xuXHRcdFx0dmFyIGNsb24gPSB0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcblx0XHRcdHdyYXBwZXJFbC5pbm5lckhUTUwgPSAnJztcblx0XHRcdHdyYXBwZXJFbC5hcHBlbmRDaGlsZChjbG9uKTtcblx0XHR9XG5cbiAgICBzdGF0aWMgc2hvd1ZpZXcodmlld3MpIHtcbiAgICAgICAgdmlld3MuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBoaWRlVmlldyh2aWV3cykge1xuICAgICAgICB2aWV3cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5hdmlnYXRlVG8ocm91dGVOYW1lKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoPSBcIiNcIiArIHJvdXRlTmFtZTtcbiAgICB9XG5cbiAgICAvLyBzdGF0aWMgaXNMb2dnZWRJbigpIHtcbiAgICAvLyAgICAgbGV0IGNyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHMnKSk7XG4gICAgLy8gICAgIHJldHVybiAhIWNyZWRlbnRpYWxzO1xuICAgIC8vIH1cblx0XHRzdGF0aWMgaXNMb2dnZWRJbigpIHtcbiAgICAgICAgLy9sZXQgY3JlZGVudGlhbHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFscycpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG5cdFx0c3RhdGljIGFjdGl2YXRlQnRuKGJ0bnMpe1xuXHRcdFx0XHRidG5zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG5cdFx0fVxuXHRcdHN0YXRpYyBkaXNhY3RpdmF0ZUJ0bihidG5zKXtcblx0XHRcdFx0YnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgIH0pO1xuXHRcdH1cbiBcblxufVxuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IE9ic2VydmVyIGZyb20gJy4vZ2FsbGVyeS9vYnNlcnZlci5qcyc7XG5cbmltcG9ydCBMb2dpbkNvbnRyb2xsZXIgZnJvbSAnLi9sb2dpbi9sb2dpbi5jb250cm9sbGVyLmpzJztcbmltcG9ydCBMb2dpbk1vZGVsIGZyb20gJy4vbG9naW4vbG9naW4ubW9kZWwuanMnO1xuaW1wb3J0IExvZ2luVmlldyBmcm9tICcuL2xvZ2luL2xvZ2luLnZpZXcuanMnO1xuXG5pbXBvcnRcdE1haW5Nb2RlbCBmcm9tXHQnLi9tYWluUGFnZS9tYWluLm1vZGVsLmpzJztcbmltcG9ydFx0TWFpblZpZXcgZnJvbVx0Jy4vbWFpblBhZ2UvbWFpbi52aWV3LmpzJztcbmltcG9ydFx0TWFpbkNvbnRyb2xsZXIgZnJvbVx0Jy4vbWFpblBhZ2UvbWFpbi5jb250cm9sbGVyLmpzJztcblxuaW1wb3J0IFByb2ZpbGVDb250cm9sbGVyIGZyb20gJy4vcHJvZmlsZS9wcm9maWxlLmNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFByb2ZpbGVNb2RlbCBmcm9tICcuL3Byb2ZpbGUvcHJvZmlsZS5tb2RlbC5qcyc7XG5pbXBvcnQgUHJvZmlsZVZpZXcgZnJvbSAnLi9wcm9maWxlL3Byb2ZpbGUudmlldy5qcyc7XG5cblxuaW1wb3J0IEdhbGxlcnlDb250cm9sbGVyIGZyb20gJy4vZ2FsbGVyeS9nYWxsZXJ5LmNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IEdhbGxlcnlNb2RlbCBmcm9tICcuL2dhbGxlcnkvZ2FsbGVyeS5tb2RlbC5qcyc7XG5pbXBvcnQgR2FsbGVyeVZpZXcgZnJvbSAnLi9nYWxsZXJ5L2dhbGxlcnkudmlldy5qcyc7XG5cblxuXG5cbmxldCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tdmlld1wiKTtcbmxldCBtYWluUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbi12aWV3XCIpO1xubGV0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdmlld1wiKTtcbmxldCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYWxsZXJ5LXZpZXdcIik7XG5cblxubGV0IG1haW5QYWdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluUGFnZUJ0blwiKTtcbmxldCBwcm9maWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlQnRuXCIpO1xubGV0IGdhbGxlcnlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbGxlcnlCdG5cIik7XG4vL2xldCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tdmlld1wiKTtcbi8vbGV0IGNvbnRhY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhY3Qtdmlld1wiKTtcblxuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd3JhcHBlclwiKTtcblxubGV0IHJvdXRlQ29uZmlnID0ge1xuICAgIFwiXCIgOiAoKSA9PiB7XG4gICAgICAgIHV0aWxzLmluaXRUZW1wbGF0ZSh3cmFwcGVyLCBcImxvZ2luLXZpZXdcIik7XG4gICAgICAgIGxldCBtb2RlbCA9IG5ldyBMb2dpbk1vZGVsO1xuICAgICAgICBsZXQgdmlldyA9IG5ldyBMb2dpblZpZXc7XG4gICAgICAgIG5ldyBMb2dpbkNvbnRyb2xsZXIobW9kZWwsIHZpZXcsIHV0aWxzKTtcblx0XHR9LFxuXHRcdFwibWFpblBhZ2VcIjogKCkgPT4ge1xuXHRcdFx0dXRpbHMuaW5pdFRlbXBsYXRlKHdyYXBwZXIsIFwibWFpblBhZ2Utdmlld1wiKTtcblx0XHRcdGxldCBtb2RlbCA9IG5ldyBNYWluTW9kZWw7XG5cdFx0XHRsZXQgdmlldyA9IG5ldyBNYWluVmlldztcblx0XHRcdG5ldyBNYWluQ29udHJvbGxlcihtb2RlbCwgdmlldywgdXRpbHMpXG5cdFx0fSxcblx0XHRcInByb2ZpbGVcIiA6ICgpID0+IHtcblx0XHRcdHV0aWxzLmluaXRUZW1wbGF0ZSh3cmFwcGVyLCBcInByb2ZpbGUtdmlld1wiKTtcblx0XHRcdGxldCBtb2RlbCA9IG5ldyBQcm9maWxlTW9kZWw7XG5cdFx0XHRsZXQgdmlldyA9IG5ldyBQcm9maWxlVmlldztcblx0XHRcdG5ldyBQcm9maWxlQ29udHJvbGxlcihtb2RlbCwgdmlldywgbmV3IHV0aWxzKVxufSxcbiAgICBcImdhbGxlcnlcIiA6ICgpID0+IHtcbiAgICAgICAgdXRpbHMuaW5pdFRlbXBsYXRlKHdyYXBwZXIsIFwiZ2FsbGVyeS12aWV3XCIpO1xuICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXI7XG4gICAgICAgIGxldCBtb2RlbCA9IG5ldyBHYWxsZXJ5TW9kZWw7XG4gICAgICAgIGxldCB2aWV3ID0gbmV3IEdhbGxlcnlWaWV3O1xuICAgICAgICBuZXcgR2FsbGVyeUNvbnRyb2xsZXIobW9kZWwsIHZpZXcsIG9ic2VydmVyLCBuZXcgdXRpbHMpXG4gICAgfSxcbiAgICBcImNvbnRhY3RzXCIgOiAoKSA9PiB7XG4gICAgICAgIHV0aWxzLmluaXRUZW1wbGF0ZSh3cmFwcGVyLCBcImNvbnRhY3Qtdmlld1wiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJDb250YWN0cyByb3V0ZSBpcyBsb2FkZWRcIilcbiAgICAgICAgLy9pbXBsZW1lbnQgQ29udHJvbGxlciwgVmlldyBhbmQgTW9kZWwgZm9yIHRoaXMgUm91dGVcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlUm91dGUocm91dGVOYW1lKXtcbiAgICBsZXQgcm91dGUgPSByb3V0ZUNvbmZpZ1tyb3V0ZU5hbWVdO1xuICAgIHJvdXRlICYmIHJvdXRlKCk7ICAgIFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUm91dGUoKSB7XG4gICAgbGV0IHJvdXRlTmFtZSA9IGRvY3VtZW50LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgvXiMvLCAnJyk7XG4gICAgaWYocm91dGVOYW1lICYmICF1dGlscy5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgdXRpbHMubmF2aWdhdGVUbyhcIlwiKTsgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZhdGVSb3V0ZShyb3V0ZU5hbWUpO1xuICAgIH1cblxuLy8gbGV0IGFjdGl2YXRlZFJvdXRlcyA9IHt9O1xuXG4vLyBsZXQgcm91dGVDb25maWcgPSB7XG4vLyAgICAgXCJtYWluUGFnZVwiIDoge1xuLy8gICAgICAgICBzaG93IDogKCkgPT4ge1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuc2hvd1ZpZXcoW21haW5QYWdlXSk7XG4vLyAgICAgICAgICAgICBVdGlscy5oaWRlVmlldyhbcHJvZmlsZSwgZ2FsbGVyeV0pO1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuYWN0aXZhdGVCdG4oW21haW5QYWdlQnRuXSk7XG4vLyBcdFx0XHRcdFx0XHRVdGlscy5kaXNhY3RpdmF0ZUJ0bihbcHJvZmlsZUJ0biwgZ2FsbGVyeUJ0bl0pO1xuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBpbml0IDogKCkgPT4ge1xuLy8gICAgICAgICAgICAgbGV0IG1vZGVsID0gbmV3IE1haW5Nb2RlbDtcbi8vICAgICAgICAgICAgIGxldCB2aWV3ID0gbmV3IE1haW5WaWV3O1xuLy8gXHRcdFx0XHRcdFx0bGV0IHV0aWxzID0gbmV3IFV0aWxzO1xuLy8gICAgICAgICAgICAgbGV0IG1haW5Db250ZXJvbGxlciA9IG5ldyBNYWluQ29udHJvbGxlcihtb2RlbCwgdmlldywgdXRpbHMpO1xuLy8gXHRcdFx0XHRcdFx0bWFpbkNvbnRlcm9sbGVyLmluaXQoKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAgXCJwcm9maWxlXCIgOiB7XG4vLyAgICAgICAgIHNob3cgOiAoKSA9PiB7XG4vLyAgICAgICAgICAgICBVdGlscy5zaG93VmlldyhbcHJvZmlsZV0pO1xuLy8gICAgICAgICAgICAgVXRpbHMuaGlkZVZpZXcoW21haW5QYWdlLCBnYWxsZXJ5XSk7XG4vLyBcdFx0XHRcdFx0XHRVdGlscy5hY3RpdmF0ZUJ0bihbcHJvZmlsZUJ0bl0pO1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuZGlzYWN0aXZhdGVCdG4oW21haW5QYWdlQnRuLCBnYWxsZXJ5QnRuXSk7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRhY3RzIHJvdXRlIGlzIGxvYWRlZFwiKVxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBpbml0IDogKCkgPT4ge1xuLy8gICAgICAgICAgICAgbGV0IG1vZGVsID0gbmV3IFByb2ZpbGVNb2RlbDtcbi8vICAgICAgICAgICAgIGxldCB2aWV3ID0gbmV3IFByb2ZpbGVWaWV3O1xuLy8gXHRcdFx0XHRcdFx0bGV0IHV0aWxzID0gbmV3IFV0aWxzO1xuLy8gICAgICAgICAgICAgbmV3IFByb2ZpbGVDb250cm9sbGVyKG1vZGVsLCB2aWV3LCB1dGlscylcbi8vICAgICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAgXCJnYWxsZXJ5XCIgOiB7XG4vLyAgICAgICAgIHNob3cgOiAoKSA9PiB7XG4vLyAgICAgICAgICAgICBVdGlscy5zaG93VmlldyhbZ2FsbGVyeV0pO1xuLy8gICAgICAgICAgICAgVXRpbHMuaGlkZVZpZXcoW21haW5QYWdlLCBwcm9maWxlXSk7XG4vLyBcdFx0XHRcdFx0XHRVdGlscy5hY3RpdmF0ZUJ0bihbZ2FsbGVyeUJ0bl0pO1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuZGlzYWN0aXZhdGVCdG4oW21haW5QYWdlQnRuLCBwcm9maWxlQnRuXSk7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1haW4gcm91dGUgaXMgbG9hZGVkXCIpXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIGluaXQgOiAoKSA9PiB7XG4vLyAgICAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXI7XG4vLyAgICAgICAgICAgICBsZXQgbW9kZWwgPSBuZXcgR2FsbGVyeU1vZGVsO1xuLy8gICAgICAgICAgICAgbGV0IHZpZXcgPSBuZXcgR2FsbGVyeVZpZXc7XG4vLyAgICAgICAgICAgICBuZXcgR2FsbGVyeUNvbnRyb2xsZXIobW9kZWwsIHZpZXcsIG9ic2VydmVyLCBuZXcgVXRpbHMpXG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGFjdGl2YXRlUm91dGUocm91dGVOYW1lKXtcbi8vICAgICBpZiAoYWN0aXZhdGVkUm91dGVzW3JvdXRlTmFtZV0pIHtcbi8vICAgICAgICAgYWN0aXZhdGVkUm91dGVzW3JvdXRlTmFtZV0oKTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBsZXQgcm91dGUgPSByb3V0ZUNvbmZpZ1tyb3V0ZU5hbWVdO1xuLy8gICAgICAgICBpZiAocm91dGUpIHtcbi8vICAgICAgICAgICAgIHJvdXRlLmluaXQoKTtcbi8vICAgICAgICAgICAgIHJvdXRlLnNob3coKTtcbi8vICAgICAgICAgICAgIGFjdGl2YXRlZFJvdXRlc1tyb3V0ZU5hbWVdID0gcm91dGUuc2hvdztcbi8vICAgICAgICAgfVxuLy8gICAgIH0gXG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVSb3V0ZSgpIHtcbi8vICAgICBsZXQgcm91dGVOYW1lID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKC9eIy8sICcnKTtcbi8vICAgICBpZihyb3V0ZU5hbWUgJiYgIVV0aWxzLmlzTG9nZ2VkSW4oKSkge1xuLy8gICAgICAgICBVdGlscy5uYXZpZ2F0ZVRvKFwiXCIpOyBcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBhY3RpdmF0ZVJvdXRlKHJvdXRlTmFtZSk7XG4vLyAgICAgfVxuICAgIFxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW5Db250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcblx0XHR0aGlzLmxvZ2luTW9kZWwgPSBtb2RlbDtcclxuXHRcdHRoaXMubG9naW5WaWV3ID0gdmlldztcclxuXHRcdHRoaXMudXRpbHMgPSB1dGlscztcclxuXHRcdHRoaXMuaW5pdCgpO1xyXG5cdFx0Ly90aGlzLnVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xvZ2luL1wiXHJcblx0fSAgICBcclxuXHJcblx0aW5pdCgpIHtcclxuXHRcdC8vdGhpcy5sb2dpblZpZXcuaGlkZUJ1dHRvbnMoKTtcclxuXHRcdHRoaXMuZmlsbFN0YXJ0UGFnZVVzZXJEYXRhKCk7XHJcblx0XHR0aGlzLmJpbmRFdmVudHMoKTtcclxuXHJcblx0fVxyXG5cclxuXHRmaWxsU3RhcnRQYWdlVXNlckRhdGEgKCl7XHJcblx0XHRsZXQgY2hlY2tCb3hTdGF0dXMgPSB0aGlzLmxvZ2luTW9kZWwuZ2V0Q2hlY2tib3hTdGF0dXMoKTtcclxuXHRcdGlmIChjaGVja0JveFN0YXR1cyA9PSB0cnVlKXtcclxuXHRcdFx0dGhpcy5sb2dpbk1vZGVsLmdldERhdGEoKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmNoZWNrQm94UmVtZW1lbWJlck1lLmNoZWNrZWQgPSB0cnVlO1x0XHJcblx0XHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuZW1haWwudmFsdWUgPSBkYXRhLmxvZ2luOyAgICBcclxuXHRcdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5wYXNzd29yZC52YWx1ZSA9IGRhdGEucGFzc3dvcmQ7XHJcblx0XHRcdH0pXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5jaGVja0JveFJlbWVtZW1iZXJNZS5jaGVja2VkID0gZmFsc2U7XHRcclxuXHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuZW1haWwudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5wYXNzd29yZC52YWx1ZSA9IFwiXCI7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcdFxyXG5cdGJpbmRFdmVudHMoKSB7XHJcblx0XHQvL3RoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmVudGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmluaXRWYWxpZGF0aW9uLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmluaXRWYWxpZGF0aW9uLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuZXhpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5pbml0TG9nT3V0LmJpbmQodGhpcykpO1xyXG5cdH1cclxuXHJcblx0aW5pdFZhbGlkYXRpb24oZXZlbnQpe1xyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGlmKGV2ZW50LnRhcmdldC5pZCA9PSAnc3VibWl0QnRuJyl7XHJcblx0XHRcdHRoaXMubG9naW5WaWV3LmhpZGVBbGVydE1zZ3MoKTtcclxuXHRcdFx0bGV0IGNyZWRlbnRpYWxzID0gdGhpcy5sb2dpblZpZXcuZ2V0TG9nQW5kUGFzcygpO1xyXG5cdFx0XHRsZXQgdmFsaWRSZXN1bHQgPSB0aGlzLmxvZ2luTW9kZWwuY2hlY2tGaWVsZHMgKGNyZWRlbnRpYWxzLmxvZ2luLCBjcmVkZW50aWFscy5wYXNzd29yZCk7XHJcblx0XHRcdGlmKHZhbGlkUmVzdWx0ID09IHRydWUpe1xyXG5cdFx0XHRcdHRoaXMubG9naW5Nb2RlbC5sb2dBbmRQYXNzVmFsaWRhdGlvbihjcmVkZW50aWFscylcclxuXHRcdFx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdGlmIChkYXRhLnN0YXR1cykge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmdldEFuZFNldENoZWNrYm94U3RhdHVzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMudXRpbHMubmF2aWdhdGVUbyhcIm1haW5QYWdlXCIpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2luVmlldy5zaG93QnV0dG9ucygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2luVmlldy5oaWRlRW50ZXJCdG4oKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dpblZpZXcuc2hvd0Vycm9yTXNnKFwiMVwiKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMubG9naW5WaWV3LnNob3dFcnJvck1zZyh2YWxpZFJlc3VsdClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRpbml0TG9nT3V0KCl7XHJcblx0XHR0aGlzLmxvZ2luTW9kZWwubG9nT3V0KCk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5oaWRlQnV0dG9ucygpO1xyXG5cdFx0dGhpcy5sb2dpblZpZXcuc2hvd0VudGVyQnRuKCk7XHJcblx0XHR0aGlzLnV0aWxzLm5hdmlnYXRlVG8oXCJcIik7XHJcblx0XHR0aGlzLmdldEFuZFNldENoZWNrYm94U3RhdHVzKCk7XHJcblx0fVxyXG5cdGdldEFuZFNldENoZWNrYm94U3RhdHVzKCl7XHJcblx0XHRpZih0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5jaGVja0JveFJlbWVtZW1iZXJNZS5jaGVja2VkID09IHRydWUpe1xyXG5cdFx0XHR0aGlzLmxvZ2luTW9kZWwuc2V0Q2hlY2tib3hTdGF0dXMoJ3RydWUnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubG9naW5Nb2RlbC5zZXRDaGVja2JveFN0YXR1cygnZmFsc2UnKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHRcdGNsYXNzIExvZ2luTW9kZWwge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy51cmxBZG1pblVzZXIgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hZG1pblVzZXJcIjtcclxuXHRcdHRoaXMudXJsTG9naW4gPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sb2dpblwiOztcclxuXHR9XHJcblx0XHRcclxuXHRnZXREYXRhKCkge1xyXG5cdFx0cmV0dXJuIGZldGNoKHRoaXMudXJsQWRtaW5Vc2VyKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiSW5pdGlhbCBkYXRhIGlzIGxvYWRlZFwiKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH0pICAgICAgICAgXHJcblx0fVxyXG5cdFx0XHJcblx0XHJcblx0Z2V0Q2hlY2tib3hTdGF0dXMoKXtcclxuXHRcdGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicmVtZW1iZXJcIikgPT0gXCJ0cnVlXCIpe1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0fVxyXG5cdHNldENoZWNrYm94U3RhdHVzKGNoZWNrZWQpe1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyZW1lbWJlclwiLCBjaGVja2VkICk7XHJcblx0fVxyXG5cclxuXHRjaGVja1Nlc3Npb24oKSB7XHJcblx0XHRsZXQgY3JlZGVudGlhbHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHMnKTtcclxuXHRcdGlmKGNyZWRlbnRpYWxzKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRzZXRVc2VySW5mbyhvYmope1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVkZW50aWFsc1wiICwgSlNPTi5zdHJpbmdpZnkob2JqKSlcclxuXHR9O1xyXG5cclxuXHRsb2dPdXQoKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjcmVkZW50aWFscycpO1xyXG5cdH1cclxuXHJcblxyXG5cdGxvZ0FuZFBhc3NWYWxpZGF0aW9uIChjcmVkZW50aWFscykge1xyXG5cdFx0bGV0IHVybCA9IHRoaXMudXJsTG9naW47XHJcblx0XHRsZXQgcGFyYW1zID0ge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpXHJcblx0XHR9O1xyXG5cdFx0XHRcclxuXHRcdHJldHVybiBmZXRjaCh1cmwgLCBwYXJhbXMpXHJcblx0XHQudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRpZiAoZGF0YS5zdGF0dXMpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0VXNlckluZm8oY3JlZGVudGlhbHMpXHJcblx0XHRcdFx0XHRcdC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyZWRlbnRpYWxzJywgSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpKTtcclxuXHRcdFx0XHR9IFxyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fSk7XHJcblxyXG5cclxuXHR9O1xyXG5cclxuXHRjaGVja0ZpZWxkcyAoZW1haWwsIHBhc3Mpe1xyXG5cdFx0aWYoIWVtYWlsKXtyZXR1cm4gJzInfVxyXG5cdFx0aWYoIXBhc3Mpe3JldHVybiAnMyd9XHJcblx0XHRpZighdGhpcy5jaGVja0VtYWlsKGVtYWlsKSl7cmV0dXJuICc0J31cclxuXHRcdGlmKCF0aGlzLmNoZWNrUGFzc3dvcmQocGFzcykpe3JldHVybiAnNSd9XHJcblx0XHRlbHNlIHtyZXR1cm4gdHJ1ZX1cclxuXHR9O1xyXG5cdFxyXG5cdGNoZWNrRW1haWwgKGVtYWlsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0bGV0IHJlZyA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xyXG5cdFx0cmV0dXJuIHJlZy50ZXN0KGVtYWlsKTtcclxuXHR9O1xyXG5cdGNoZWNrUGFzc3dvcmQocGFzc3dvcmQpe1xyXG5cdFx0aWYocGFzc3dvcmQubGVuZ3RoID49IDgpe1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHsgXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cclxuXHRzYXZlRGF0YShpdGVtKSB7ICAgICAgICAgXHJcblx0XHRjb25zb2xlLmxvZyhcIlNhdmluZyBpdGVtLi4uIFwiICsgaXRlbS5uYW1lKTtcclxuXHRcdGxldCBpcGhvbmUgPSB7XHJcblx0XHRcdFwibmFtZVwiOiBcIlNhdmVkIGlQaG9uZVwiLFxyXG5cdFx0XHRcInByaWNlXCI6IDEyNDU4LFxyXG5cdFx0XHRcInBvcHVsYXJcIjogdHJ1ZSxcclxuXHRcdFx0XCJkYXRlXCI6IDE0Njc0NDAyMDNcclxuXHRcdH1cclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShcclxuXHRcdFx0ZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7ICAgICAgICAgICAgXHJcblx0XHRcdFx0cmVzb2x2ZShpcGhvbmUpOyAgICAgICAgICBcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0XHJcblx0dXBkYXRlRGF0YShjb3VudGVyKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcIlVwZGF0aW5nIGl0ZW0uLi4gXCIgKyBjb3VudGVyKTtcclxuXHRcdGxldCBzYW1zdW5nID0ge1xyXG5cdFx0XHRcIm5hbWVcIjogXCJTYXZlZCBTYW1zdW5nXCIsXHJcblx0XHRcdFwicHJpY2VcIjogMTI0NTgsXHJcblx0XHRcdFwicG9wdWxhclwiOiB0cnVlLFxyXG5cdFx0XHRcImRhdGVcIjogMTQ2NzQ0MDIwM1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShzYW1zdW5nKTtcclxuXHR9XHJcblx0c2V0TG9jYWxTdG9yR2FsbGVyeUluaXRTdGF0dXMoc3RhdHVzKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5pc0dhbGxlcnlJbml0ZWQgPSBzdGF0dXM7XHJcblx0fVxyXG5cdGNoYW5nZUxvY2FsU3RvckxvZ2dlZEluU3RhdHVzKHN0YXR1cyl7XHJcblx0XHRsb2NhbFN0b3JhZ2UuaXNVc2VyTG9nZ2VkSW4gPSBzdGF0dXM7XHJcblx0fVxyXG5cdGdldExvY2FsU3RvcmFnZUdhbGxlcnlTdGF0dXMoKXtcclxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UuaXNHYWxsZXJ5SW5pdGVkO1xyXG5cdH1cclxuXHRnZXRJc1VzZXJMb2dnZWRJbigpe1xyXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZS5pc1VzZXJMb2dnZWRJbjtcclxuXHR9XHJcblxyXG5cdGNoZWNrVXNlcih1c2VyRGF0YSl7XHJcblx0XHRsZXQgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sb2dpbic7XHJcblx0XHRsZXQgcGFyYW1zID0ge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBmZXRjaCh1cmwgLCBwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxufVxyXG5cdFxyXG4gXHJcbiIsImV4cG9ydCBkZWZhdWx0XHRjbGFzcyBMb2dpblZpZXcge1xyXG5cdGNvbnN0cnVjdG9yICgpe1xyXG5cdFx0dGhpcy5ET01FbGVtZW50cyA9IHtcclxuXHRcdFx0c3VibWl0QnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdWJtaXRCdG5cIiksXHJcblx0XHRcdC8vZW50ZXJCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VudGVyQnRuXCIpLFxyXG5cdFx0XHRleGl0QnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNleGl0QnRuXCIpLFxyXG5cdFx0XHRlbWFpbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRFbWFpbFwiKSxcclxuXHRcdFx0cGFzc3dvcmQgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0UGFzc3dvcmRcIiksXHJcblx0XHRcdGNoZWNrQm94UmVtZW1lbWJlck1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dFJlbWVtYmVyXCIpLFxyXG5cdFx0XHRcclxuXHRcdFx0bG9naW5CdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luQnRuXCIpLFxyXG5cdFx0XHRtYWluUGFnZUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpblBhZ2VCdG5cIiksXHJcblx0XHRcdHByb2ZpbGVCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVCdG5cIiksXHJcblx0XHRcdGdhbGxlcnlCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbGxlcnlCdG5cIiksXHJcblx0XHRcdGNvbnRhY3RzQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWN0c0J0blwiKSxcclxuXHRcdFx0XHJcblxyXG5cdFx0XHRzaG93VXNlckRhdGFCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Nob3dVc2VyRGF0YUJ0blwiKSxcclxuXHRcdFx0c2hvd0dhbGxlcnlCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Nob3dHYWxsZXJ5QnRuXCIpLFxyXG5cclxuXHJcblx0XHRcdGFsZXJ0TXNnIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhbGVydC1tZXNzYWdlXCIpLCBcclxuXHRcdFx0bm90RmlsbGVkRW1haWxNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdEZpbGxlZEVtYWlsTXNnXCIpLFxyXG5cdFx0XHRub3RGaWxsZWRQYXNzTXNnIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3RGaWxsZWRQYXNzTXNnXCIpLFxyXG5cdFx0XHR3cm9uZ0VtYWlsTXNnIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3cm9uZ0VtYWlsTXNnXCIpLFxyXG5cdFx0XHR3cm9uZ1Bhc3NNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dyb25nUGFzc01zZ1wiKVxyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0Z2V0TG9nQW5kUGFzcygpe1xyXG5cdFx0bGV0IGNyZWRlbnRpYWxzID0ge1xyXG5cdFx0XHRcImxvZ2luXCIgOiB0aGlzLkRPTUVsZW1lbnRzLmVtYWlsLnZhbHVlLFxyXG5cdFx0XHRcInBhc3N3b3JkXCIgOiB0aGlzLkRPTUVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY3JlZGVudGlhbHM7XHJcblx0fTtcclxuXHRcclxuXHRzaG93RXJyb3JNc2cobXNnQ29kZSl7XHJcblx0XHRzd2l0Y2gobXNnQ29kZSl7XHJcblx0XHRcdGNhc2UgJzEnOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLmFsZXJ0TXNnXX0pO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdFxyXG5cdFx0XHRjYXNlICcyJzpcclxuXHRcdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRFbWFpbE1zZ119KVxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0XHJcblx0XHRcdGNhc2UgJzMnOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZFBhc3NNc2ddfSlcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRjYXNlICc0JzpcclxuXHRcdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy53cm9uZ0VtYWlsTXNnXX0pXHJcblx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0Y2FzZSAnNSc6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMud3JvbmdQYXNzTXNnXX0pXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aGlkZUFsZXJ0TXNncygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJoaWRlXCIgOiBbdGhpcy5ET01FbGVtZW50cy5hbGVydE1zZyxcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRFbWFpbE1zZywgXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkUGFzc01zZyxcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy53cm9uZ0VtYWlsTXNnLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLndyb25nUGFzc01zZ119KTtcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdHNob3dBbGVydE1zZygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5hbGVydE1zZ119KVxyXG5cdH1cclxuXHRzaG93Tm90RmlsbGVkRW1haWxNc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkRW1haWxNc2ddfSlcclxuXHR9XHJcblx0c2hvd05vdEZpbGxlZFBhc3N3b3JkTXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZFBhc3NNc2ddfSlcclxuXHR9XHJcblx0c2hvd0JhZExvZ2luTXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLndyb25nRW1haWxNc2ddfSlcclxuXHR9O1xyXG5cdFxyXG5cdHNob3dCYWRQYXNzd29yZE1zZygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy53cm9uZ1Bhc3NNc2ddfSlcclxuXHR9O1xyXG5cdC8qXHJcblx0bWFpblBhZ2VCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI21haW5QYWdlXCIpLFxyXG5cdFx0XHRwcm9maWxlQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwcm9maWxlQnRuXCIpLFxyXG5cdFx0XHRnYWxsZXJ5QnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNnYWxsZXJ5QnRuXCIpLFxyXG5cdFx0XHRjb250YWN0c0J0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY29udGFjdHNCdG5cIiksXHJcblx0Ki9cclxuXHRzaG93QnV0dG9ucygpe1xyXG5cdFx0dGhpcy5zaG93RWxzKFt0aGlzLkRPTUVsZW1lbnRzLm1haW5QYWdlQnRuLFxyXG5cdFx0dGhpcy5ET01FbGVtZW50cy5wcm9maWxlQnRuLFxyXG5cdFx0dGhpcy5ET01FbGVtZW50cy5nYWxsZXJ5QnRuLFxyXG5cdFx0dGhpcy5ET01FbGVtZW50cy5jb250YWN0c0J0bixcclxuXHRcdHRoaXMuRE9NRWxlbWVudHMuZXhpdEJ0bl0pXHJcblx0fVxyXG5cdFxyXG5cdGhpZGVCdXR0b25zKCl7XHJcblx0XHR0aGlzLmhpZGVFbHMoW3RoaXMuRE9NRWxlbWVudHMubWFpblBhZ2VCdG4sXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMucHJvZmlsZUJ0bixcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5nYWxsZXJ5QnRuLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmNvbnRhY3RzQnRuLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmV4aXRCdG5dKVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHRoaWRlRW50ZXJCdG4oKXtcclxuXHRcdHRoaXMuaGlkZUVscyhbdGhpcy5ET01FbGVtZW50cy5sb2dpbkJ0bl0pO1xyXG5cdH1cclxuXHRzaG93RW50ZXJCdG4oKXtcclxuXHRcdHRoaXMuc2hvd0VscyhbdGhpcy5ET01FbGVtZW50cy5sb2dpbkJ0bl0pO1xyXG5cdH1cclxuXHRzaG93SGlkZShvYmplY3QpeyAgICBcclxuXHRcdGZvcih2YXIga2V5IGluIG9iamVjdCkgeyBcclxuXHRcdFx0dmFyIGtleSA9IGtleTtcclxuXHRcdFx0dmFyIHZhbHVlID0gb2JqZWN0W2tleV07IFxyXG5cdFx0XHR2YWx1ZS5mb3JFYWNoKERPTUVsZW0gPT4ge1xyXG5cdFx0XHRcdERPTUVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIiAsIFwiaGlkZVwiKTtcclxuXHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5hZGQoa2V5KTtcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRzaG93RWxzKGFycil7XHJcblx0XHRhcnIuZm9yRWFjaChET01FbGVtID0+IHtcclxuXHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG5cdFx0fSlcclxuXHR9XHJcblx0aGlkZUVscyhhcnIpe1xyXG5cdFx0YXJyLmZvckVhY2goRE9NRWxlbSA9PiB7XHJcblx0XHRcdFx0RE9NRWxlbS5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbkNvbnRyb2xsZXIgeyBcclxuICAgIGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3LCB1dGlscykge1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG5cdFx0XHRcdHRoaXMudXRpbHMgPSB1dGlscztcclxuXHRcdFx0XHR0aGlzLmluaXQoKTtcclxuICAgIH0gICAgICAgIFxyXG5cclxuXHRcclxuXHRpbml0KCl7XHJcblx0XHRjb25zb2xlLmxvZyhcIm1haW4gaW5pdGVkXCIpXHJcblx0XHRcclxuXHRcdHRoaXMubW9kZWwuZ2V0RGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0dGhpcy52aWV3LmluaXQoZGF0YSk7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwibWFpbi1kYXRhOiBcIiwgZGF0YSlcclxuXHRcdH0pOyBcdFxyXG5cdH1cclxuICAgIFxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblx0XHRcdHRoaXMuZ2V0VXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wb3N0cyc7XHJcbiAgICB9XHJcblxyXG5cdFx0Z2V0RGF0YSgpIHtcclxuXHRcdFx0cmV0dXJuIGZldGNoKHRoaXMuZ2V0VXJsKS50aGVuKHJlc3BvbmNlID0+IHJlc3BvbmNlLmpzb24oKSlcclxuXHRcdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkdhbGxlcnkgaXMgbG9hZGVkXCIpO1xyXG5cdFx0XHRcdFx0dGhpcy51c2Vyc0xpc3REYXRhID0gZGF0YTtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KSAgICAgICAgIFxyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluVmlldyB7ICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuRE9NRWxlbWVudHMgPSB7XHJcblx0XHRcdFx0XHRyZXN1bHRCbG9jayA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzdWx0LW1haW5cIilcclxuICAgICAgICB9OyAgICAgXHJcblx0XHRcdFx0dGhpcy5yZWFkeURhdGEgPSBbXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aW5pdChkYXRhKXtcclxuXHRcdFx0dGhpcy5yZWZyZXNoUG9zdHMoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVmcmVzaFBvc3RzKGRhdGEpe1xyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YSA9IGRhdGE7XHJcblx0XHRcdHRoaXMuYml1bGRWaWV3KHRoaXMucmVhZHlEYXRhKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcclxuXHRcdGJpdWxkVmlldyAocmVhZHlEYXRhKXsgIFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmlubmVySFRNTCA9IFwiXCI7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVhZHlEYXRhLmxlbmd0aDsgaSsrKSB7ICAgIFxyXG5cdFx0XHRcdFx0dGhpcy5ET01FbGVtZW50cy5yZXN1bHRCbG9jay5pbm5lckhUTUwgKz0gdGhpcy5jcmVhdGVQb3N0KHJlYWR5RGF0YVtpXSk7IFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNyZWF0ZVBvc3QgKGl0ZW0pIHtcclxuXHRcdFx0bGV0IGltZ3MgPSBgYDtcclxuXHRcdFx0aXRlbS5pbWFnZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuXHRcdFx0XHRpbWdzICs9IFxyXG5cdFx0XHRcdFx0YDxpbWcgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICBtYXJnaW46IDEwcHg7IHZlcnRpY2FsLWFsaWduOiBib3R0b207XCIgZGF0YS13aWR0aD1cIjY0MFwiIGRhdGEtaGVpZ2h0PVwiNjQwXCIgZGF0YS1hY3Rpb249XCJ6b29tXCIgc3JjPVwiJHtlbGVtZW50fVwiPlxyXG5cdFx0XHRcdGBcclxuXHRcdH0pO1xyXG5cclxuXHRcdFx0cmV0dXJuIFx0YDxsaSBjbGFzcz1cInJ2IGIgYWd6XCI+XHJcblx0XHRcdDxpbWcgY2xhc3M9XCJib3MgdmIgeWIgYWZmXCIgIHNyYz0gJHtpdGVtLnVybH0+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJyd1wiPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJicGRcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJicGJcIj5cclxuXHRcdFx0XHRcdFx0PHNtYWxsIGNsYXNzPVwiYWN4IGF4Y1wiPiR7aXRlbS5kYXRlfTwvc21hbGw+XHJcblx0XHRcdFx0XHRcdDxoNj4ke2l0ZW0ubmFtZX08L2g2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8cD4ke2l0ZW0udGV4dH08L3A+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm95XCIgZGF0YS1ncmlkPVwiaW1hZ2VzXCI+JHtpbWdzfTwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9saT5gXHJcblx0XHR9O1xyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9maWxlQ29udHJvbGxlciB7IFxyXG5cdGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3LCB1dGlscykge1xyXG5cdFx0XHR0aGlzLm1vZGVsID0gbW9kZWw7XHJcblx0XHRcdHRoaXMudmlldyA9IHZpZXc7XHJcblx0XHRcdHRoaXMudXRpbHMgPSB1dGlscztcclxuXHRcdFx0dGhpcy5pbml0KCk7XHJcblx0XHRcdFxyXG5cdH1cclxuICAgXHJcblx0XHRpbml0KCl7XHJcblx0XHRjb25zb2xlLmxvZyhcInByb2ZpbGUgaW5pdGVkXCIpO1xyXG4gICAgICAgIHRoaXMubW9kZWwuZ2V0UHJvZmlsZURhdGEoKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5pbml0TGlzdGVuZXJzKClcclxuICAgICAgICAgICAgdGhpcy52aWV3LmluaXQoZGF0YSk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5pc0xhc3RQYWdlKCk7XHJcbiAgICAgICAgfSk7IFx0XHJcblx0fVxyXG4gICAgXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2ZpbGVNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdFx0dGhpcy51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9maWxlXCJcclxuICAgIH1cclxuXHJcblx0XHRnZXRQcm9maWxlRGF0YSgpe1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godGhpcy51cmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJQcm9maWxlRGF0YSBpcyBsb2FkZWRcIik7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuICAgICAgICB9KSBcclxuXHRcdH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZVZpZXcgeyAgICAgICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRcdFx0Zmlyc3ROYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaXJzdE5hbWVcIiksXHJcblx0XHRcdFx0XHRsYXN0TmFtZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGFzdE5hbWVcIiksXHJcblx0XHRcdFx0XHR1c2VyTmFtZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdXNlcm5hbWVcIiksXHJcblx0XHRcdFx0XHRlbWFpbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0YWRkcmVzcyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkcmVzc1Byb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRhZGRyZXNzMiA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkcmVzczJQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0Y291bnRyeSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY291bnRyeVByb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRzdGF0ZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhdGVQcm9maWxlXCIpLFx0XHJcblx0XHRcdFx0XHR6aXAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ppcFwiKVxyXG4gICAgICAgIH07ICAgICBcclxuICAgICAgICB0aGlzLnJlYWR5RGF0YTtcclxuICAgIH1cclxuXHJcblx0XHRpbml0KGRhdGEpe1xyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YSA9IGRhdGFbMF07XHJcblx0XHRcdHRoaXMuYnVpbGRWaWV3KHRoaXMucmVhZHlEYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRidWlsZFZpZXcoZGF0YSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKHRoaXMuRE9NRWxlbWVudHMpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5maXJzdE5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubGFzdE5hbWUudmFsdWUgPSBkYXRhLmxhc3ROYW1lO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnVzZXJOYW1lLnZhbHVlID0gZGF0YS51c2VyTmFtZTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSA9IGRhdGEuZW1haWw7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuYWRkcmVzcy52YWx1ZSA9IGRhdGEuYWRyZXNzO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmFkZHJlc3MyLnZhbHVlID0gZGF0YS5hZHJlc3MyO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmNvdW50cnkudmFsdWUgPSBkYXRhLmNvdW50cnk7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuc3RhdGUudmFsdWUgPSBkYXRhLnN0YXRlO1x0XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuemlwLnZhbHVlID0gZGF0YS56aXA7XHJcblx0XHR9XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICAgIH1cblxuICAgIHN1YnNjcmliZUV2ZW50KG5hbWUsIGZ1bmMpIHtcbiAgICAgICAgdGhpcy5ldmVudHNbbmFtZV0gPSBmdW5jO1xuICAgIH1cbiAgICBcbiAgICBjYWxsRXZlbnQobmFtZSwgYXJnKSB7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50c1tuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbbmFtZV0oYXJnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnlDb250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIG9ic2VydmVyLCB1dGlscykge1xyXG5cdFx0dGhpcy5tb2RlbCA9IG1vZGVsO1xyXG5cdFx0dGhpcy52aWV3ID0gdmlldztcclxuXHRcdHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcclxuXHRcdHRoaXMudXRpbHMgPSB1dGlscztcclxuXHRcdC8vICAgdGhpcy5wYWdlQ29uZmlnID0ge1xyXG5cdFx0XHQvLyAgICAgICBpdGVtc1BlclBhZ2UgOiAxMCxcclxuXHRcdFx0Ly8gY3VycmVudFBhZ2U6IDBcclxuXHRcdFx0Ly8gfVxyXG5cdFx0XHR0aGlzLmluaXQoKTtcclxuICAgIH0gICAgICAgIFxyXG5cdFx0XHJcblx0XHRpbml0KCl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiZ2FsbGVyeSBpbml0ZWRcIilcclxuXHRcdFx0XHRcdHRoaXMubW9kZWwuZ2V0RGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy52aWV3LmluaXQoZGF0YSk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiZ2FsbGVyeS1kYXRhOiBcIiwgZGF0YSlcclxuXHRcdFx0XHRcdCAgICAvL3RoaXMuaW5pdExpc3RlbmVycygpXHJcblx0XHRcdFx0XHQgICAgLy8gdGhpcy52aWV3LmJ1aWxkVXNlcnNMaXN0KHRoaXMuZ2V0TmV4dFBhZ2UoKSk7XHJcblx0XHRcdFx0XHQgICAgLy8gdGhpcy5pc0xhc3RQYWdlKCk7XHJcblx0XHRcdFx0XHR9KTsgXHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly9pbml0TGlzdGVuZXJzKCkge1xyXG5cclxuXHJcblx0XHQvLyB0aGlzLnZpZXcuRE9NRWxlbWVudHMudXNlckxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudGFibGVMaW5lSGFuZGxlci5iaW5kKHRoaXMpKTtcclxuXHRcdFxyXG5cdFx0Ly8gdGhpcy52aWV3LkRPTUVsZW1lbnRzLnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5zZWFyY2hIYW5kbGVyLmJpbmQodGhpcykpO1xyXG5cdFx0Ly8gdGhpcy52aWV3LkRPTUVsZW1lbnRzLmVtYWlsRHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc29ydGluZ0hhbmRsZXIuYmluZCh0aGlzKSk7XHJcblx0XHQvLyB0aGlzLnZpZXcuRE9NRWxlbWVudHMucm9sZURyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNvcnRpbmdIYW5kbGVyLmJpbmQodGhpcykpO1xyXG5cdFx0XHJcbiAgICAvLyAgICAgdGhpcy52aWV3LkRPTUVsZW1lbnRzLm5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZ2V0TmV4dFBhZ2VIYW5kbGVyLmJpbmQodGhpcykpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHRhYmxlTGluZUhhbmRsZXIoZXZlbnQpIHtcclxuICAgIC8vICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Ly8gbGV0IGlzQnV0dG9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcm93LWlkXCIpO1xyXG5cdFx0Ly8gaXNCdXR0b24gPyB0aGlzLm9wZW5EZXRhaWwoaXNCdXR0b24pIDogdGhpcy52aWV3LnNlbGVjdFRhYmxlTGluZShldmVudCk7XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0Ly8gb3BlbkRldGFpbChidXR0b25JZCkge1xyXG5cdFx0Ly8gXHRsZXQgdXNlciA9IHRoaXMubW9kZWwuZ2V0VXNlckJ5SWQoYnV0dG9uSWQpLnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdC8vIFx0XHRcdFx0XHR0aGlzLnZpZXcuc2hvd1NpbmdsZVVzZXIoZGF0YSk7XHJcblx0XHQvLyBcdFx0XHR9KTsgXHRcclxuXHRcdC8vIFx0fVxyXG5cdFx0XHRcclxuXHRcdC8vIFx0c2VhcmNoSGFuZGxlcihldmVudCkge1xyXG5cdFx0Ly8gXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Ly8gXHRsZXQgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcblx0XHQvLyBcdGlmIChldmVudC5rZXlDb2RlID09PSAxMyAmJiAodmFsdWUubGVuZ3RoID09IDAgfHwgdmFsdWUubGVuZ3RoID4gMikpIHtcclxuXHRcdC8vIFx0XHR0aGlzLnBhZ2VDb25maWcuY3VycmVudFBhZ2UgPSAwO1xyXG5cdFx0Ly8gXHRcdFx0XHRcdHRoaXMudmlldy5jbGVhckxpc3QoKTtcclxuXHRcdC8vIFx0XHR0aGlzLnZpZXcuYnVpbGRVc2Vyc0xpc3QodGhpcy5nZXROZXh0UGFnZSgpLCB0aGlzLnV0aWxzLnNvcnRpbmdDb25maWdbXCJGaW5kXCJdKTtcclxuXHRcdC8vIFx0fVxyXG5cdFx0Ly8gfVxyXG5cclxuXHRcdC8vIHNvcnRpbmdIYW5kbGVyKGV2ZW50KSB7XHJcblx0XHQvLyBcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQvLyBcdHRoaXMudmlldy51cGRhdGVCdXR0b25UZXh0KGV2ZW50KTtcclxuXHRcdC8vIFx0dGhpcy5hcHBseVNvcnRpbmdNZXRob2QodGhpcy52aWV3LmdldFNvcnRpbmdUeXBlKGV2ZW50KSk7XHJcblx0XHQvLyB9XHJcblx0XHRcdFxyXG5cdFx0Ly8gXHRnZXROZXh0UGFnZUhhbmRsZXIoZXZlbnQpIHtcclxuXHRcdC8vIFx0XHRcdGV2ZW50ICYmIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQvLyBcdFx0XHR0aGlzLnZpZXcuYnVpbGRVc2Vyc0xpc3QodGhpcy5nZXROZXh0UGFnZSgpKTtcclxuXHRcdC8vIFx0XHRcdHRoaXMuaXNMYXN0UGFnZSgpOyBcclxuXHRcdC8vIFx0fVxyXG5cclxuXHRcdC8vIGFwcGx5U29ydGluZ01ldGhvZChzb3J0aW5nVHlwZSkge1xyXG5cdFx0Ly8gXHRcdFx0aWYgKCFzb3J0aW5nVHlwZSl7cmV0dXJufVxyXG5cdFx0Ly8gXHR0aGlzLnBhZ2VDb25maWcuY3VycmVudFBhZ2UgPSAwO1xyXG5cdFx0Ly8gXHRcdFx0dGhpcy52aWV3LmNsZWFyTGlzdCgpO1xyXG5cdFx0Ly8gXHR0aGlzLnZpZXcuYnVpbGRVc2Vyc0xpc3QodGhpcy5nZXROZXh0UGFnZSgpLCB0aGlzLnV0aWxzLnNvcnRpbmdDb25maWdbc29ydGluZ1R5cGVdKTtcclxuXHRcdC8vIH1cclxuXHJcblx0XHQvLyBcdGdldE5leHRQYWdlKCl7XHJcblx0XHQvLyBcdGxldCBzdGFydCA9IHRoaXMucGFnZUNvbmZpZy5pdGVtc1BlclBhZ2UgKiB0aGlzLnBhZ2VDb25maWcuY3VycmVudFBhZ2U7XHJcblx0XHQvLyBcdGxldCBlbmQgPSB0aGlzLnBhZ2VDb25maWcuaXRlbXNQZXJQYWdlICsgc3RhcnQ7XHJcblx0XHQvLyBcdHRoaXMucGFnZUNvbmZpZy5jdXJyZW50UGFnZSsrO1xyXG5cdFx0Ly8gXHRyZXR1cm4gdGhpcy5tb2RlbC51c2Vyc0xpc3REYXRhLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG5cdFx0Ly8gXHR9XHJcblx0XHRcdFxyXG5cdFx0Ly8gXHRpc0xhc3RQYWdlKCkge1xyXG5cdFx0Ly8gXHRcdFx0aWYgKHRoaXMuaXNNYXhQYWdlKCkpe1xyXG5cdFx0Ly8gXHRcdFx0XHRcdHRoaXMudmlldy5oaWRlTmV4dFBhZ2UoKTtcdFxyXG5cdFx0Ly8gXHRcdFx0XHRcdHRoaXMuY291bnRTdGF0cygpO1xyXG5cdFx0Ly8gXHRcdFx0fVxyXG5cdFx0Ly8gXHR9XHJcblxyXG5cdFx0Ly8gaXNNYXhQYWdlKCkge1xyXG5cdFx0Ly8gXHRyZXR1cm4gKHRoaXMucGFnZUNvbmZpZy5jdXJyZW50UGFnZSAqIHRoaXMucGFnZUNvbmZpZy5pdGVtc1BlclBhZ2UpID49IHRoaXMubW9kZWwudXNlcnNMaXN0RGF0YS5sZW5ndGg7XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0Ly8gY291bnRTdGF0cygpe1xyXG5cdFx0Ly8gXHRsZXQgc3RhdHMgPSB0aGlzLm1vZGVsLnVzZXJzTGlzdERhdGEucmVkdWNlKChzdW0sIGl0ZW0pID0+IHtcclxuXHRcdC8vIFx0XHQoaXRlbS5yb2xlID09IFwiQWRtaW5cIikgPyBzdW0uYWRtaW5zKysgOlx0c3VtLnVzZXJzKys7XHJcblx0XHQvLyBcdFx0cmV0dXJuIHN1bTtcclxuXHRcdC8vIFx0fSwge2FkbWluczowLCB1c2VyczowfSk7XHJcblx0XHQvLyBcdHRoaXMudmlldy5zaG93U3RhdHMoc3RhdHMpO1xyXG5cdFx0Ly8gfVxyXG5cdFx0XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FsbGVyeU1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0VXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9nYWxsZXJ5JztcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLmdldFVybCkudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2FsbGVyeSBpcyBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMudXNlcnNMaXN0RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH0pICAgICAgICAgXHJcbiAgICB9XHJcblxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnlWaWV3IHsgICAgICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ET01FbGVtZW50cyA9IHtcclxuXHRcdFx0XHRcdHJlc3VsdEJsb2NrOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXN1bHQnKSxcclxuICAgICAgICB9OyAgICAgXHJcblx0XHRcdCB0aGlzLnJlYWR5RGF0YUZvckdhbGxlcnkgPSBbXTtcclxuXHRcdFx0IHRoaXMudmlzaWJsZURhdGEgPSBbXTtcclxuICAgICAgICBcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aW5pdChkYXRhKXtcclxuXHRcdFx0dGhpcy5yZWZyZXNoR2FsbGVyeShkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZWZyZXNoR2FsbGVyeShkYXRhKXtcclxuXHRcdFx0dGhpcy5wcmVwYXJlRGF0YShkYXRhKTtcclxuXHRcdFx0dGhpcy5iaXVsZEdhbGxlcnkodGhpcy52aXNpYmxlRGF0YSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRwcmVwYXJlRGF0YSAoZGF0YSkge1xyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YUZvckdhbGxlcnkgPSBkYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHVybDogdGhpcy51cmxGb21hdChpdGVtLnVybCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IHRoaXMubmFtZUZvcm1hdChpdGVtLm5hbWUpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpdGVtSUQ6IGl0ZW0uaWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy52aXNpYmxlRGF0YSA9IFtdO1xyXG5cdFx0XHR0aGlzLnZpc2libGVEYXRhLnB1c2guYXBwbHkodGhpcy52aXNpYmxlRGF0YSxcdHRoaXMucmVhZHlEYXRhRm9yR2FsbGVyeSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGJpdWxkR2FsbGVyeSAodmlzaWJsZURhdGEpeyAgXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMucmVzdWx0QmxvY2suaW5uZXJIVE1MID0gXCJcIjtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2aXNpYmxlRGF0YS5sZW5ndGg7IGkrKykgeyAgICBcclxuXHRcdFx0XHRcdHRoaXMuRE9NRWxlbWVudHMucmVzdWx0QmxvY2suaW5uZXJIVE1MICs9IHRoaXMuY3JlYXRlR2FsbGVyeUl0ZW0odmlzaWJsZURhdGFbaV0pOyBcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNyZWF0ZUdhbGxlcnlJdGVtIChpdGVtKSB7XHJcblx0XHRcdHJldHVybiBcdGA8ZGl2IGNsYXNzPVwiY29sLW1kLTQgZ2FsbGVyeS1jYXJkXCIgaWQgPSAke2l0ZW0uaXRlbUlEfT5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkIG1iLTQgYm94LXNoYWRvdyBnYWxsZXJ5LWl0ZW1cIiA+XHJcblx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke2l0ZW0udXJsfVwiIGFsdD1cIiR7aXRlbS5uYW1lfVwiIGNsYXNzPVwiY2FyZC1pbWctdG9wXCIgZGF0YS1zcmM9XCJob2xkZXIuanMvMTAwcHgyMjU/dGhlbWU9dGh1bWImYW1wO2JnPTU1NTk1YyZhbXA7Zmc9ZWNlZWVmJmFtcDt0ZXh0PVRodW1ibmFpbFwiIGRhdGEtaG9sZGVyLXJlbmRlcmVkPVwidHJ1ZVwiIHN0eWxlPVwiaGVpZ2h0OiAyMjVweDsgd2lkdGg6IDEwMCU7IGRpc3BsYXk6IGJsb2NrO1wiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtdGV4dCBtYi00XCI+JHtpdGVtLm5hbWV9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIj5WaWV3PC9idXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGVkaXRcIj5FZGl0PC9idXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2ICBuYW1lID0gXCJkZWxldGUtaW1nXCIgY2xhc3MgPSBcImJ0biBidG4tZGFuZ2VyXCIgIHRpdGxlID0gXCLQo9C00LDQu9C40YLRjCDQtNCw0L3QvdC+0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPiDQo9C00LDQu9C40YLRjCA8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PmA7XHJcblx0XHR9O1xyXG5cdFx0bmFtZUZvcm1hdCAobmFtZSl7XHJcblx0XHRcdHJldHVybiAgbmFtZSA/IG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkgOiBcIkxvaG4gRG9oXCI7XHJcblx0XHR9O1xyXG5cdFx0dXJsRm9tYXQgICh1cmwpe1xyXG5cdFx0XHRcdHJldHVybiAgKHVybC5pbmRleE9mKFwiaHR0cHM6Ly9cIikpID09PSAtMSA/IGBodHRwczovLyR7dXJsfWAgOiAgdXJsOyBcclxuXHRcdH07XHJcblxyXG5cclxufVxyXG5cclxuIiwiaW1wb3J0IHt1cGRhdGVSb3V0ZX0gZnJvbSAnLi9yb3V0ZXIuanMnXG5cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB1cGRhdGVSb3V0ZSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHVwZGF0ZVJvdXRlKTtcblxuIl19
